"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5881],{55881:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var t=a(9950),l=a(1072),r=a(28429),i=a(37017),n=a(42074),d=a(45532),o=a(79988),c=a(7864),m=a(27760),h=a(44885),u=a(44414);const x=function(){(0,r.Zp)();let e=(0,l.A)();const{user:s,authTokens:a}=(0,t.useContext)(d.A);let[x,p]=(0,t.useState)([]),[j,y]=(0,t.useState)([]),[g,v]=(0,t.useState)([]),[b,f]=(0,t.useState)([]),[_,N]=(0,t.useState)();const[C,F]=(0,t.useState)(!1),[A,D]=(0,t.useState)(!1),[w,P]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1),[O,T]=(0,t.useState)([]),[L,z]=(0,t.useState)(!1),{selectedColor:U}=(0,h.useColor)(),{colorName:q}=(0,h.useColor)(),[G,K]=(0,t.useState)(!1);(0,t.useEffect)((()=>{V()}),[]);let V=async()=>{let s=await e.get("api/users/");if(1===s.data.success){let e=[],a=[];for(let t=0;t<s.data.result.length;t++){let l=s.data.result[t];e.push(l.email),a.push(l.mobile_no)}y(e),v(a)}else if(0===s.data.success)for(let e=0;e<Object.values(s.data.result).length;e++){let a=Object.values(s.data.result)[e];alert(a)}};(0,t.useEffect)((()=>{$()}),[]);let $=async()=>{let s=await e.get("api/get_user_list/");if(1===s.data.success){let e=[];for(let a=0;a<s.data.result.length;a++){let t=s.data.result[a],l={id:t.id,name:t.name,email:t.email,mobile_no:t.mobile_no,address1:t.address1,address2:t.address2,pincode:t.pincode,country:t.country,landmark:t.landmark,state:t.state,created_at:t.created_at,role:t.role,spoc_id:t.spoc_id,organization:t.organization,created_by:t.created_by,is_active:!0===t.is_active?"Active":"Inactive"};e.sort(((e,s)=>new Date(s.created_at)-new Date(e.created_at))),e.push(l)}p(e)}else if(0===s.data.success)for(let e=0;e<Object.values(s.data.result).length;e++){let a=Object.values(s.data.result)[e];alert(a)}},Z=()=>{window.location.reload()};const E=e=>{const s=new Date(e),a=String(s.getDate()).padStart(2,"0"),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getMonth()],l=s.getFullYear(),r=String(s.getHours()).padStart(2,"0"),i=String(s.getMinutes()).padStart(2,"0");return"".concat(a," - ").concat(t," - ").concat(l,"  ").concat(r,":").concat(i)};let M=[{label:"Active",value:!0},{label:"Inactive",value:!1}],W=e=>{let s=[];for(let a=0;a<M.length;a++){let t=M[a];e==t.label&&s.push(t)}for(let a=0;a<M.length;a++){let t=M[a];e!=t.label&&s.push(t)}T(s)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,u.jsx)("h3",{className:"mb-0",style:{color:"#2C384A"},children:"User Onboarding"}),(0,u.jsx)(i.Q_,{onClick:()=>{D(!A)},className:"mt-2",style:{backgroundColor:U,color:"white"},children:"Add New"})]}),(0,u.jsx)(i.sK,{xm:{cols:12},children:(0,u.jsx)(i.UF,{xs:12,children:(0,u.jsx)(i.E$,{className:"mb-1 shadow bg-body rounded",children:(0,u.jsx)(i.W6,{children:(0,u.jsx)(i.Pd,{activePage:1,clickableRows:!0,columns:[{key:"sr_no",label:"Sr. No.",sorter:!1,_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"75px"}},{label:"Name",key:"name",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"100px"},sorter:!1},{label:"Email",key:"email",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"130px"},sorter:!1},{label:"SPOC ID",key:"spoc_id",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"130px"},sorter:!1},{label:"Created Date",key:"created_at",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"120px"},sorter:!1},{label:"Mobile No",key:"mobile_no",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"80px"},sorter:!1},{label:"Orgnization Name",key:"organization",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"130px"},sorter:!1},{label:"Status",key:"is_active",sorter:!1,_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"60px"}},{key:"Action",label:"Action",filter:!1,sorter:!1,_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"60px"}}],columnSorter:!0,items:x,itemsPerPageSelect:!0,itemsPerPage:10,pagination:!0,scopedColumns:{Action:e=>(0,u.jsxs)("td",{children:[(0,u.jsx)(n.N_,{to:"#",children:(0,u.jsx)(c.A,{icon:m.K,style:{color:"blue"},size:"md",title:"Edit",onClick:()=>[N(e),F(e.id),W(e.is_active),P(!w)]})}),"\xa0\xa0\xa0",(0,u.jsx)(n.N_,{to:"/Onboardingview/"+"".concat(e.id),children:(0,u.jsx)(i.t7,{src:o,width:17,height:15,title:"View Details"})})]}),sr_no:(e,s)=>(0,u.jsx)("td",{children:s+1}),created_at:e=>(0,u.jsx)("td",{children:E(e.created_at)})},sorterValue:{coloumns:"created_at",state:"asc"},itemsPerPageOptions:[10,20,50,100],tableFilter:!0,tableProps:{color:"success-color-secondary",hover:!0,border:"1.5px solid #074",responsive:!0},tableHeadProps:{color:"light",align:"middle",className:"align-middle"},tableBodyProps:{align:"middle",className:"align-middle"},tableFilterLabel:"Search : ",tableFilterPlaceholder:"Enter String to Search",itemsPerPageLabel:"Rows per page:"})})})})})]})}),(0,u.jsxs)(i.zS,{size:"lg",visible:A,onClose:()=>[D(!1),k(!1),z(!1)],backdrop:"static",children:[(0,u.jsx)(i.E4,{onClose:()=>[D(!1),k(!1),z(!1)],style:{backgroundColor:U,color:"white"},children:(0,u.jsx)(i.lb,{children:"Add New User"})}),(0,u.jsxs)(i.qI,{className:"row g-3 needs-validation",style:{margin:"10px"},noValidate:!0,validated:S,onSubmit:s=>{s.preventDefault(),(async s=>{const a=s.currentTarget;if(s.preventDefault(),!0===a.checkValidity())if(null!==j&&void 0!==j&&j.includes(s.target.email.value))alert("This email already exists");else if(null!==g&&void 0!==g&&g.includes(s.target.mobile_no.value))alert("This mobile number already exists");else{K(!0);const a=new FormData(s.target);a.append("password","Vendsoft@12"),a.append("email",s.target.email.value.toLowerCase()),a.append("is_active",!0),a.append("role","4");try{let s=await e.post("/api/users/",a);if(1===s.data.success)K(!1),alert("User is created"),k(!1),D(!1),$(),Z();else if(0===s.data.success)for(let e=0;e<Object.values(s.data.result).length;e++){let a=Object.values(s.data.result)[e];alert(a)}}catch(t){console.error("Error:",t)}}else k(!0)})(s),s.currentTarget.checkValidity()&&z(!0)},children:[(0,u.jsxs)(i.Tc,{children:[(0,u.jsxs)(i.sK,{sm:12,className:"",children:[(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Oragnization Name",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"organization",name:"organization",required:!0,maxLength:200,pattern:"^[^\\d]+$",onKeyPress:e=>{const s=e.which||e.keyCode,a=String.fromCharCode(s);/^[^\d]+$/.test(a)||e.preventDefault()}}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your  organization name"})]}),(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Name",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"name",name:"name",pattern:"[A-Za-z\\s]+",required:!0,maxLength:50}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your name"})]})]}),(0,u.jsxs)(i.sK,{sm:12,className:"mb-1",children:[(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Email",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"email",id:"email",pattern:"^(?!\\s)[^\\s@]+@[^\\s@]+[a-zA-Z]+(\\.[a-zA-Z]+)+$",name:"email",required:!0,maxLength:50}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your email"})]}),(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Mobile No.",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"tel",id:"mobile_no",name:"mobile_no",required:!0,maxLength:15,minLength:8,pattern:"^(?!\\s)[0-9\\s]+$",onKeyPress:e=>{const s=e.which||e.keyCode,a=String.fromCharCode(s);/^[0-9\s]*$/.test(a)||e.preventDefault()}}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your mobile number"})]})]}),(0,u.jsxs)(i.sK,{sm:12,className:"mb-1",children:[(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Address 1",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"address1",name:"address1",required:!0,maxLength:200}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your address1"})]}),(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsx)(i.A6,{htmlFor:"validationDefault01",children:"Address 2"}),(0,u.jsx)(i.OG,{type:"text",id:"address2",name:"address2",maxLength:200}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your address2"})]})]}),(0,u.jsxs)(i.sK,{sm:12,className:"mb-1",children:[(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Pincode",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"pincode",name:"pincode",required:!0,maxLength:6,minLength:4,pattern:"^[0-9]+$",onKeyPress:e=>{const s=e.which||e.keyCode,a=String.fromCharCode(s);/^[0-9]$/.test(a)||e.preventDefault()}}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your pincode"})]}),(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Country",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"country",name:"country",required:!0,pattern:"[A-Za-z\\s]+",maxLength:50}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your country"})]})]}),(0,u.jsxs)(i.sK,{sm:12,className:"mb-1",children:[(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["State",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"state",name:"state",pattern:"[A-Za-z\\s]+",required:!0,maxLength:50}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your state"})]}),(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["SPOC ID",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"spoc_id",name:"spoc_id",required:!0,maxLength:50}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your spoc id"})]})]})]}),(0,u.jsxs)(i.If,{children:[(0,u.jsx)(i.Q_,{onClick:()=>[D(!1),k(!1),z(!1)],style:{backgroundColor:"#F5F5F5",color:"black",borderColor:"#DCDCDC"},children:"\xa0Close\xa0"}),(0,u.jsx)(i.Q_,{type:"submit",style:{backgroundColor:U,color:"white"},children:"\xa0Submit"}),G?(0,u.jsx)(i.JT,{className:"Spinner",style:{color:U}}):""]})]})]}),(0,u.jsxs)(i.zS,{size:"lg",visible:w,onClose:()=>[P(!1),k(!1)],backdrop:"static",children:[(0,u.jsx)(i.E4,{onClose:()=>[P(!1),k(!1)],style:{backgroundColor:U,color:"white"},children:(0,u.jsx)(i.lb,{children:"Edit User Details"})}),(0,u.jsxs)(i.qI,{className:"row g-3 needs-validation",style:{margin:"10px"},noValidate:!0,validated:S,onSubmit:async s=>{const a=s.currentTarget;if(s.preventDefault(),!0===a.checkValidity()){const a=new FormData(s.target);a.append("password","Vendsoft@12");try{let s=await e.patch("/api/users/".concat(C,"/"),a);if(1===s.data.success)alert("User details updated"),k(!1),P(!1),$(),Z();else if(0===s.data.success)for(let e=0;e<Object.values(s.data.result).length;e++){let a=Object.values(s.data.result)[e];alert(a)}}catch(t){console.error("Error:",t)}}k(!0)},children:[(0,u.jsxs)(i.Tc,{children:[(0,u.jsxs)(i.sK,{sm:12,className:"",children:[(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Oragnization Name",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"organization",name:"organization",required:!0,pattern:"^[^\\d]+$",onKeyPress:e=>{const s=e.which||e.keyCode,a=String.fromCharCode(s);/^[^\d]+$/.test(a)||e.preventDefault()},defaultValue:null===_||void 0===_?void 0:_.organization,maxLength:200}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your  organization name"})]}),(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Name",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"name",name:"name",required:!0,pattern:"[A-Za-z\\s]+",defaultValue:null===_||void 0===_?void 0:_.name,maxLength:50}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your name"})]})]}),(0,u.jsxs)(i.sK,{sm:12,className:"mb-1",children:[(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Email",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"email",id:"email",pattern:"^(?!\\s)[^\\s@]+@[^\\s@]+[a-zA-Z]+(\\.[a-zA-Z]+)+$",defaultValue:null===_||void 0===_?void 0:_.email,name:"email",required:!0,maxLength:50}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your email"})]}),(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Mobile No.",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"mobile_no",name:"mobile_no",defaultValue:null===_||void 0===_?void 0:_.mobile_no,required:!0,maxLength:15,minLength:8,pattern:"^(?!\\s)[0-9\\s]+$",onKeyPress:e=>{const s=e.which||e.keyCode,a=String.fromCharCode(s);/^[0-9\s]*$/.test(a)||e.preventDefault()}}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your mobile no"})]})]}),(0,u.jsxs)(i.sK,{sm:12,className:"mb-1",children:[(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Address 1",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"address1",defaultValue:null===_||void 0===_?void 0:_.address1,name:"address1",required:!0,maxLength:200}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your address1"})]}),(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Address 2",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"address2",name:"address2",defaultValue:null===_||void 0===_?void 0:_.address2,maxLength:200}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your address2"})]})]}),(0,u.jsxs)(i.sK,{sm:12,className:"mb-1",children:[(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Pincode",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"pincode",defaultValue:null===_||void 0===_?void 0:_.pincode,name:"pincode",required:!0,maxLength:6,minLength:4,pattern:"^[0-9]+$",onKeyPress:e=>{const s=e.which||e.keyCode,a=String.fromCharCode(s);/^[0-9]$/.test(a)||e.preventDefault()}}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your pincode"})]}),(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Country",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"country",defaultValue:null===_||void 0===_?void 0:_.country,name:"country",required:!0,pattern:"[A-Za-z\\s]+",maxLength:50}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your country"})]})]}),(0,u.jsxs)(i.sK,{sm:12,className:"mb-1",children:[(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["State",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",defaultValue:null===_||void 0===_?void 0:_.state,id:"state",name:"state",pattern:"[A-Za-z\\s]+",required:!0,maxLength:50}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your state"})]}),(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["SPOC ID",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(i.OG,{type:"text",id:"spoc_id",name:"spoc_id",required:!0,maxLength:50,defaultValue:null===_||void 0===_?void 0:_.spoc_id}),(0,u.jsx)(i.To,{invalid:!0,children:"Please enter your spoc id"})]})]}),(0,u.jsx)(i.sK,{sm:12,className:"mb-1",children:(0,u.jsxs)(i.UF,{sm:6,children:[(0,u.jsx)(i.A6,{htmlFor:"validationCustom01",children:" Status "}),(0,u.jsx)(i.MT,{id:"is_active",name:"is_active",defaultValue:null===_||void 0===_?void 0:_.is_active,required:!0,options:O}),(0,u.jsx)(i.To,{invalid:!0,children:"Please select status"})]})})]}),(0,u.jsxs)(i.If,{children:[(0,u.jsx)(i.Q_,{onClick:()=>[P(!1),k(!1)],style:{backgroundColor:"#F5F5F5",color:"black",borderColor:"#DCDCDC"},children:"\xa0Close\xa0"}),(0,u.jsx)(i.Q_,{type:"submit",style:{backgroundColor:U,color:"white"},children:"\xa0Submit"})]})]})]})]})}},27760:(e,s,a)=>{a.d(s,{K:()=>t});const t=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M29.663,482.25l.087.087a24.847,24.847,0,0,0,17.612,7.342,25.178,25.178,0,0,0,8.1-1.345l142.006-48.172,272.5-272.5A88.832,88.832,0,0,0,344.334,42.039l-272.5,272.5L23.666,456.541A24.844,24.844,0,0,0,29.663,482.25Zm337.3-417.584a56.832,56.832,0,0,1,80.371,80.373L411.5,180.873,331.127,100.5ZM99.744,331.884,308.5,123.127,388.873,203.5,180.116,412.256,58.482,453.518Z' class='ci-primary'/>"]}}]);