(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4253,6634],{82486:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(96011),a=n.n(r),s=(n(42891),n(4159),n(9950),n(45532),n(74297)),i=n(9210),u=n.n(i),o=n(95652);const c=(0,s.A)(),l=()=>{const e=(0,o.A)(),t=(u().SHA256(e).toString(),a().create({baseURL:c,headers:{"x-api-key":e}}));return t.interceptors.request.use((async e=>e)),t}},14253:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(9950),a=n(49911),s=n(45532),i=n(82486),u=n(28429),o=n(7864),c=n(48822),l=n(79692),d=n.n(l),f=(n(11740),n(44414));const h=()=>{let e=(0,i.A)();const t=(0,u.Zp)();let{loginUser:n}=(0,r.useContext)(s.A);const[l,h]=(0,r.useState)(!1),[p,m]=(0,r.useState)([]);let[y,v]=(0,r.useState)();const[g,b]=(0,r.useState)(!1);let[x,O]=(0,r.useState)(),[$,S]=(0,r.useState)();const[j,w]=(0,r.useState)(""),[M,T]=(0,r.useState)(!1);return(0,f.jsx)("div",{className:"bg-white min-vh-100 d-flex flex-row align-items-center",children:(0,f.jsx)(a.T5,{children:(0,f.jsx)(a.sK,{className:"justify-content-center",children:(0,f.jsx)(a.UF,{md:4,children:(0,f.jsx)(a.x$,{style:{boxShadow:"2px 2px 2px 2px #ccc"},children:(0,f.jsx)(a.E$,{className:"p-5",children:(0,f.jsx)(a.W6,{children:(0,f.jsxs)(a.qI,{className:"row g-3 needs-validation",validated:l,noValidate:!0,onSubmit:async n=>{const r=n.currentTarget;if(n.preventDefault(),"submit1"===j){if(!0===r.checkValidity()){const t=new FormData(n.target);t.append("otp",$);const r=await e.post("/forgot-password/",t);1===r.data.success?(alert("OTP sent on your email id."),v(r.data.OTP),b(!0),w(null)):alert(r.data.message)}}else if("submit2"===j&&!0===r.checkValidity()){const r=new FormData(n.target);r.append("otp",$);const i=await e.post("/verify-otp/",r);var a,s;if(1===i.data.success)alert("OTP Match."),v(i.data.OTP),b(!0),t("/resetpassword/".concat(null===(a=i.data)||void 0===a?void 0:a.uid,"/").concat(null===(s=i.data)||void 0===s?void 0:s.token));else alert("OTP do not Match."),S("")}h(!0)},children:[(0,f.jsx)("h5",{className:"mt-1 mb-2",style:{fontFamily:"Calibri-Bold",fontSize:"20px",textAlign:"center",color:"#2596be"},children:"Forgot password"}),(0,f.jsx)("p",{className:"mt-3 mb-4",style:{fontFamily:"Calibri-Bold",fontSize:"20px",textAlign:"center"},children:"Enter your registered email id."}),(0,f.jsxs)(a.BG,{className:"mb-4",style:{height:"39px"},children:[(0,f.jsx)(a.sk,{children:(0,f.jsx)(o.A,{icon:c.X})}),(0,f.jsx)(a.OG,{placeholder:"Email",autoComplete:"username",type:"email",name:"email",required:!0,pattern:"^[^\\s@]+@[^\\s@]+[a-zA-Z]+(\\.[a-zA-Z]+)+$"}),(0,f.jsx)(a.To,{invalid:!0,children:"Please enter your registered email id"})]}),null!==j&&(0,f.jsx)("div",{className:"d-grid pt-1 mb-4",style:{height:"39px"},children:(0,f.jsx)(a.Q_,{style:{backgroundColor:"#2596be"},className:"px-3",type:"submit",onClick:()=>w("submit1"),children:(0,f.jsx)("b",{children:"Send OTP"})})}),1==g?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{className:"mt-3 mb-4",style:{fontFamily:"Calibri-Bold",fontSize:"20px",textAlign:"center"},children:"Enter the four-digit OTP sent to you on email."}),(0,f.jsx)(a.sK,{className:"",children:(0,f.jsx)(d(),{className:"otpbox d-flex justify-content-center",value:$,onChange:S,autoFocus:!0,OTPLength:4,otpType:"number",disabled:!1})}),M&&(0,f.jsx)("p",{style:{color:"red",textAlign:"center"},children:"Incorrect OTP, please try again"}),(0,f.jsx)("div",{className:"d-grid pt-1 mb-4",style:{height:"39px"},children:(0,f.jsx)(a.Q_,{style:{backgroundColor:"#2596be"},className:"px-3",type:"submit",disabled:!g,onClick:async()=>{let t=await e.post("/forgot-password/",{email:x.email});1===t.data.success&&(alert("OTP Sent"),v(t.data.OTP),O(t.data.result))},children:(0,f.jsx)("b",{children:"Resend OTP "})})}),(0,f.jsxs)(a.sK,{children:[(0,f.jsx)(a.UF,{md:5,className:"justify-content-sm-center"}),(0,f.jsx)(a.UF,{md:4,className:"otp1",children:(0,f.jsx)(a.Q_,{type:"submit",onClick:()=>{w("submit2")},style:{backgroundColor:"#2596be",color:"white",border:"none",height:"36px"},disabled:!g,children:"Submit"})})]})]}):(0,f.jsx)(f.Fragment,{})]})})})})})})})})}},48822:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M274.6,25.623a32.006,32.006,0,0,0-37.2,0L16,183.766V496H496V183.766ZM464,402.693,339.97,322.96,464,226.492ZM256,51.662,454.429,193.4,311.434,304.615,256,268.979l-55.434,35.636L57.571,193.4ZM48,226.492,172.03,322.96,48,402.693ZM464,464H48V440.735L256,307.021,464,440.735Z' class='ci-primary'/>"]},4159:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",a="second",s="minute",i="hour",u="day",o="week",c="month",l="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},g={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),a=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(a,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(r,c),s=n-a<0,i=t.clone().add(r+(s?-1:1),c);return+(-(r+(n-a)/(s?a-i:i-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:o,d:u,D:f,h:i,m:s,s:a,ms:r,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",x={};x[b]=y;var O="$isDayjsObject",$=function(e){return e instanceof M||!(!e||!e[O])},S=function e(t,n,r){var a;if(!t)return b;if("string"==typeof t){var s=t.toLowerCase();x[s]&&(a=s),n&&(x[s]=n,a=s);var i=t.split("-");if(!a&&i.length>1)return e(i[0])}else{var u=t.name;x[u]=t,a=u}return!r&&a&&(b=a),a||!r&&b},j=function(e,t){if($(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new M(n)},w=g;w.l=S,w.i=$,w.w=function(e,t){return j(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var M=function(){function y(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[O]=!0}var v=y.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var a=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return w},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(e,t){var n=j(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return j(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<j(e)},v.$g=function(e,t,n){return w.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!w.u(t)||t,l=w.p(e),h=function(e,t){var a=w.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?a:a.endOf(u)},p=function(e,t){return w.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,y=this.$M,v=this.$D,g="set"+(this.$u?"UTC":"");switch(l){case d:return r?h(1,0):h(31,11);case c:return r?h(1,y):h(0,y+1);case o:var b=this.$locale().weekStart||0,x=(m<b?m+7:m)-b;return h(r?v-x:v+(6-x),y);case u:case f:return p(g+"Hours",0);case i:return p(g+"Minutes",1);case s:return p(g+"Seconds",2);case a:return p(g+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,o=w.p(e),l="set"+(this.$u?"UTC":""),h=(n={},n[u]=l+"Date",n[f]=l+"Date",n[c]=l+"Month",n[d]=l+"FullYear",n[i]=l+"Hours",n[s]=l+"Minutes",n[a]=l+"Seconds",n[r]=l+"Milliseconds",n)[o],p=o===u?this.$D+(t-this.$W):t;if(o===c||o===d){var m=this.clone().set(f,1);m.$d[h](p),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[w.p(e)]()},v.add=function(r,l){var f,h=this;r=Number(r);var p=w.p(l),m=function(e){var t=j(h);return w.w(t.date(t.date()+Math.round(e*r)),h)};if(p===c)return this.set(c,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===u)return m(1);if(p===o)return m(7);var y=(f={},f[s]=t,f[i]=n,f[a]=e,f)[p]||1,v=this.$d.getTime()+r*y;return w.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",a=w.z(this),s=this.$H,i=this.$m,u=this.$M,o=n.weekdays,c=n.months,l=n.meridiem,d=function(e,n,a,s){return e&&(e[n]||e(t,r))||a[n].slice(0,s)},f=function(e){return w.s(s%12||12,e,"0")},p=l||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return w.s(t.$y,4,"0");case"M":return u+1;case"MM":return w.s(u+1,2,"0");case"MMM":return d(n.monthsShort,u,c,3);case"MMMM":return d(c,u);case"D":return t.$D;case"DD":return w.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,o,2);case"ddd":return d(n.weekdaysShort,t.$W,o,3);case"dddd":return o[t.$W];case"H":return String(s);case"HH":return w.s(s,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(s,i,!0);case"A":return p(s,i,!1);case"m":return String(i);case"mm":return w.s(i,2,"0");case"s":return String(t.$s);case"ss":return w.s(t.$s,2,"0");case"SSS":return w.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,f,h){var p,m=this,y=w.p(f),v=j(r),g=(v.utcOffset()-this.utcOffset())*t,b=this-v,x=function(){return w.m(m,v)};switch(y){case d:p=x()/12;break;case c:p=x();break;case l:p=x()/3;break;case o:p=(b-g)/6048e5;break;case u:p=(b-g)/864e5;break;case i:p=b/n;break;case s:p=b/t;break;case a:p=b/e;break;default:p=b}return h?p:w.a(p)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return x[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=S(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return w.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},y}(),T=M.prototype;return j.prototype=T,[["$ms",r],["$s",a],["$m",s],["$H",i],["$W",u],["$M",c],["$y",d],["$D",f]].forEach((function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),j.extend=function(e,t){return e.$i||(e(t,M,j),e.$i=!0),j},j.locale=S,j.isDayjs=$,j.unix=function(e){return j(1e3*e)},j.en=x[b],j.Ls=x,j.p={},j}()},79692:(e,t,n)=>{var r;window,e.exports=(r=n(9950),function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/otp-input-react/",n(n.s=1)}([function(e,t){e.exports=r},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.r(t);var i=n(0),u=n.n(i);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(o){a=!0,s=o}finally{try{r||null==u.return||u.return()}finally{if(a)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=function(e){var t=e.maxTime,n=e.onTimerComplete,r=e.timeInterval,a=e.onResendClick,s=Object(i.useRef)(),u=o(Object(i.useState)(t),2),c=u[0],l=u[1];return Object(i.useEffect)((function(){return s.current&&0===c?(clearTimeout(s.current),n&&n()):s.current=setTimeout((function(){l((function(e){return e-1}))}),r),function(){clearTimeout(s.current)}}),[n,c,r]),{handelResendClick:function(){a&&a(0===c),l(t)},remainingTime:c}};function l(e){var t=e.renderTime,n=e.renderButton,r=e.style,i=e.className,o=s(e,["renderTime","renderButton","style","className"]),l=c(o),d=l.remainingTime,f=l.handelResendClick;return u.a.createElement("div",{className:i||"","data-testid":"otp-resend-root",style:a({display:"flex",justifyContent:"space-between"},r)},t?t(d):u.a.createElement("span",null,d," sec"),n?n({disabled:0!==d,onClick:f,remainingTime:d}):u.a.createElement("button",{disabled:0!==d,onClick:f,type:"button"},"Resend OTP"))}l.defaultProps={maxTime:60,timeInterval:1e3,style:{}};var d=l,f={width:32,height:32,textAlign:"center",marginRight:20},h=u.a.memo((function(e){var t=e.focus,n=e.autoFocus,r=e.disabled,o=e.value,c=e.onInputFocus,l=e.index,d=e.secure,h=e.inputStyles,p=e.otpType,m=s(e,["focus","autoFocus","disabled","value","onInputFocus","index","secure","inputStyles","otpType"]),y=Object(i.useRef)(null),v=Object(i.useRef)(!1);Object(i.useEffect)((function(){n&&t&&y.current.focus()}),[]),Object(i.useEffect)((function(){v.current&&t&&y.current.focus(),v.current=!0}),[t]);var g="text";return d?g="password":"number"===p&&(g="tel"),u.a.createElement("input",Object.assign({style:a({},f,h),type:g,maxLength:"1",ref:y,disabled:r,onFocus:function(e){return c(l,e)},value:o||""},m))})),p=function(e){var t=e.autoFocus,n=e.value,r=e.otpType,a=e.onChange,s=e.OTPLength,u=o(Object(i.useState)(t?0:-1),2),c=u[0],l=u[1],d=function(){return n?n.toString().split(""):[]},f=function(e){var t=e.join("");a(t)},h=function(){!function(e){var t=Math.max(Math.min(s-1,e),0);l(t)}("next"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next")?c+1:c-1)},p=function(e){var t=o(e,1)[0],n=d();n[c]=t,f(n)},m=function(e){switch(r){case"number":return!(e.charCodeAt(0)>57||e.charCodeAt(0)<48);case"alpha":return!(e.charCodeAt(0)>122||e.charCodeAt(0)<65);case"alphanumeric":return!(e.charCodeAt(0)>122||e.charCodeAt(0)<48);default:return!0}};return{activeInput:c,getOtpValue:d,handleOnChange:function(e){m(e.target.value)&&(p(e.target.value),h("next"))},handleOnKeyDown:function(e){switch(e.key){case"Backspace":e.preventDefault(),p(""),h("prev");break;case"Delete":e.preventDefault(),p("");break;case"ArrowLeft":e.preventDefault(),h("prev");break;case"ArrowRight":e.preventDefault(),h("next")}},handelOnInput:function(e){e.target.value.length>1&&(e.preventDefault(),h("next"))},handleOnPaste:function(e,t){e.preventDefault();for(var n=d(),r=e.clipboardData.getData("text/plain").slice(0,s-c).split(""),a=0;a<s;++a)a>=c&&r.length>0&&(n[a]=r.shift());for(var i=[n.length],u=0,o=0;o<n.length;++o)m(n[o])&&(i[u]=n[o],u++);f(i)},onInputFocus:function(e,t){l(e),t.target.select()}}},m=function(e){var t=e.OTPLength,n=e.disabled,r=e.autoFocus,s=e.value,o=void 0===s?"":s,c=e.onChange,l=e.otpType,d=e.secure,f=e.className,m=e.inputClassName,y=e.inputStyles,v=e.style,g=e.placeholder,b=p({autoFocus:r,value:o,otpType:l,onChange:c,OTPLength:t}),x=b.activeInput,O=b.getOtpValue,$=b.handleOnChange,S=b.handleOnKeyDown,j=b.handelOnInput,w=b.handleOnPaste,M=b.onInputFocus,T=Object(i.useMemo)((function(){for(var e=O(),a=[],s=0;s<t;s++)a.push(u.a.createElement(h,{className:m,inputStyles:y,key:s,focus:x===s,value:e[s],onChange:$,onKeyDown:S,onInput:j,onPaste:w,onInputFocus:M,index:s,disabled:n,autoFocus:r,secure:d,"data-testid":"input",otpType:l,placeholder:g&&g[s]}));return a}),[O,t,m,y,x,$,S,j,w,M,n,r,d,l,g]);return u.a.createElement("div",{style:a({display:"flex"},v),className:"".concat(f),"data-testid":"otp-input-root"},T)};m.defaultProps={className:"",inputClassName:"",OTPLength:4,onChange:function(){},disabled:!1,secure:!1,autoFocus:!1,value:"",otpType:"any",inputStyles:{},style:{},placeholder:void 0};var y=m;n.d(t,"ResendOTP",(function(){return d})),n.d(t,"default",(function(){return y}))}]))},11740:()=>{}}]);