"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8749],{8749:(e,s,l)=>{l.r(s),l.d(s,{default:()=>o});var i=l(9950),a=l(1072),t=l(37017),n=l(45532),r=(l(60764),l(44885)),d=l(44414);const o=function(){var e;let s=(0,a.A)(),[l,o]=(0,i.useState)([]),[c,m]=(0,i.useState)([]),[h,x]=(0,i.useState)(!1),[u,j]=(0,i.useState)(!1);const{selectedColor:p}=(0,r.useColor)(),{user:v,authTokens:g}=(0,i.useContext)(n.A);(0,i.useEffect)((()=>{f()}),[]);let f=async()=>{if(console.log(g.user.id+" check the authentication user id "),o([]),"2"==g.user.role){let e=await s.get("api/users/"+g.user.id+"/"),l=await s.get("saas/get_data/");if(console.log(e),1===e.data.success)m(l.data.result[0]),o(e.data.result);else if(0===e.data.success)for(let s=0;s<Object.values(e.data.result).length;s++){let l=Object.values(e.data.result)[s];alert(l)}}else{let e=await s.get("api/users/"+g.user.id+"/");if(1===e.data.success)o(e.data.result);else if(0===e.data.success)for(let s=0;s<Object.values(e.data.result).length;s++){let l=Object.values(e.data.result)[s];alert(l)}}};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(t.T5,{className:"mb-4",children:[(0,d.jsx)("h3",{children:"\xa0 Profile"}),"1"==g.user.role?" ":"2"==g.user.role?(0,d.jsxs)(t.E$,{className:"mt-4",children:[(0,d.jsx)(t.V0,{children:(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,d.jsx)("p",{children:"Personal Details"}),(0,d.jsx)(t.Q_,{style:{backgroundColor:p,color:"white"},variant:"outline",onClick:()=>x(!0),children:"Edit"})]})})}),(0,d.jsxs)(t.W6,{className:"mx-2",children:[(0,d.jsxs)(t.sK,{sm:12,className:"mb-2",children:[(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"Organization :"})}),(0,d.jsx)(t.UF,{sm:4,children:null===c||void 0===c?void 0:c.organization_name}),(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"Industry Sector :"})}),(0,d.jsx)(t.UF,{sm:4,children:null===c||void 0===c?void 0:c.industry_sector})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-2",children:[(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"First Name:"})}),(0,d.jsx)(t.UF,{sm:4,children:null===c||void 0===c?void 0:c.first_name}),(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"Last Name :"})}),(0,d.jsx)(t.UF,{sm:4,children:null===c||void 0===c?void 0:c.last_name})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-2",children:[(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"Mobile:"})}),(0,d.jsx)(t.UF,{sm:4,children:null===c||void 0===c?void 0:c.contact_no}),(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"Email:"})}),(0,d.jsx)(t.UF,{sm:2,children:null===c||void 0===c?void 0:c.email_id})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-2",children:[(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"Address1:"})}),(0,d.jsx)(t.UF,{sm:4,children:null===c||void 0===c?void 0:c.address1}),(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"Address2:"})}),(0,d.jsx)(t.UF,{sm:4,children:null===c||void 0===c?void 0:c.address2})]})]})]}):(0,d.jsxs)(t.E$,{className:"mt-4",children:[(0,d.jsx)(t.V0,{children:(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,d.jsx)("p",{children:"Personal Details"}),(0,d.jsx)(t.Q_,{style:{backgroundColor:p,color:"white"},variant:"outline",onClick:()=>j(!0),children:"Edit"})]})})}),(0,d.jsxs)(t.W6,{className:"mx-2",children:[(0,d.jsxs)(t.sK,{sm:12,className:"mb-2",children:[(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"Name:"})}),(0,d.jsx)(t.UF,{sm:4,children:l.name})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-2",children:[(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"Mobile:"})}),(0,d.jsx)(t.UF,{sm:4,children:l.mobile_no}),(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"Email:"})}),(0,d.jsx)(t.UF,{sm:4,children:l.email})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-2",children:[(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"Address1:"})}),(0,d.jsx)(t.UF,{sm:4,children:l.address1}),(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"Address2:"})}),(0,d.jsx)(t.UF,{sm:4,children:l.address2})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-2",children:[(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"Pincode :"})}),(0,d.jsx)(t.UF,{sm:4,children:null===l||void 0===l?void 0:l.pincode}),(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"State :"})}),(0,d.jsx)(t.UF,{sm:4,children:null===l||void 0===l?void 0:l.state})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-2",children:[(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:"Country :"})}),(0,d.jsx)(t.UF,{sm:4,children:null===l||void 0===l?void 0:l.country})]})]})]})]}),(0,d.jsxs)(t.zS,{size:"lg",visible:h,onClose:()=>x(!1),backdrop:"static",children:[(0,d.jsx)(t.E4,{onClose:()=>x(!1),style:{backgroundColor:p,color:"white"},children:(0,d.jsx)(t.lb,{children:"Edit Profile Details"})}),(0,d.jsxs)(t.qI,{className:"row g-3 needs-validation",style:{margin:"10px"},noValidate:!0,validated:!1,onSubmit:async e=>{console.log("inside savetopic "),e.preventDefault();const l=new FormData(e.target);let i=await s.patch("saas/update_data/",l);if(e.target.profile_img.files[0]){let e=await s.patch("api/users/"+g.user.id+"/",l);o(e.data.result)}if(1===i.data.success)m(i.data.result);else if(0===i.data.success)for(let s=0;s<Object.values(i.data.result).length;s++){let e=Object.values(i.data.result)[s];alert(e)}x(!1),window.location.reload()},children:[(0,d.jsxs)(t.Tc,{children:[(0,d.jsxs)(t.sK,{sm:12,className:"",children:[(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"organization",children:"Organization "}),(0,d.jsx)(t.OG,{type:"text",id:"organization",name:"organization_name",pattern:"[a-zA-Z]*",defaultValue:null===c||void 0===c?void 0:c.organization_name,maxLength:50}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your name"})]}),(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"industry_sector",children:"Industry Sector "}),(0,d.jsx)(t.OG,{type:"text",id:"industry_sector",name:"industry_sector",pattern:"[a-zA-Z]*",defaultValue:null===c||void 0===c?void 0:c.industry_sector,maxLength:50}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your name"})]})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-1",children:[(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"first_name",children:"First Name"}),(0,d.jsx)(t.OG,{type:"text",id:"first_name",pattern:"[a-zA-Z]*",defaultValue:null===c||void 0===c?void 0:c.first_name,name:"first_name",maxLength:50,onKeyPress:e=>{const s=e.which||e.keyCode,l=String.fromCharCode(s);/^[a-zA-Z]*$/.test(l)||e.preventDefault()}}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your first name"})]}),(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"last_name",children:"Last Name"}),(0,d.jsx)(t.OG,{type:"text",id:"last_name",pattern:"[a-zA-Z]*",defaultValue:null===c||void 0===c?void 0:c.last_name,name:"last_name",maxLength:50,onKeyPress:e=>{const s=e.which||e.keyCode,l=String.fromCharCode(s);/^[a-zA-Z]*$/.test(l)||e.preventDefault()}}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your last name"})]})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-1",children:[(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"address1",children:"Address 1"}),(0,d.jsx)(t.OG,{type:"text",id:"address1",pattern:"[a-zA-Z]*",defaultValue:null===c||void 0===c?void 0:c.address1,name:"address1",maxLength:50}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your address1"})]}),(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"address2",children:"Address 2"}),(0,d.jsx)(t.OG,{type:"text",id:"address2",name:"address2",pattern:"[a-zA-Z]*",defaultValue:null===c||void 0===c?void 0:c.address2,maxLength:50}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your address2"})]})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-1",children:[(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"contact_no",children:"Mobile No."}),(0,d.jsx)(t.OG,{type:"text",id:"contact_no",name:"contact_no",defaultValue:null===c||void 0===c?void 0:c.contact_no,maxLength:15,minLength:8,pattern:"^(?!\\s)[0-9\\s]+$",onKeyPress:e=>{const s=e.which||e.keyCode,l=String.fromCharCode(s);/^[0-9\s]*$/.test(l)||e.preventDefault()}}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your mobile no"})]}),(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"email",children:"Email"}),(0,d.jsx)(t.OG,{type:"email",id:"email_id",pattern:"^(?!\\s)[^\\s@]+@[^\\s@]+[a-zA-Z]+(\\.[a-zA-Z]+)+$",defaultValue:null===c||void 0===c?void 0:c.email_id,name:"email_id",maxLength:50}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your email"})]})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-2",children:[(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:" Current Profile Photo :"})}),(0,d.jsx)(t.UF,{sm:4,children:(0,d.jsx)("img",{src:null===l||void 0===l?void 0:l.profile_img,width:"150",height:"100"})})]}),(0,d.jsx)(t.sK,{sm:12,className:"mb-1",children:(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"profile_img",children:"Profile Photo"}),(0,d.jsx)(t.OG,{type:"file",id:"profile_img",name:"profile_img",maxLength:50,size:"sm",accept:".png ,.jpg",onChange:e=>{const s=e.target.files[0];s&&s.size>2097152&&(e.target.value=null,alert("Image size should be maximum 2MB."))}}),(0,d.jsx)("p",{children:" Image format must be .png or .jpg "}),(0,d.jsx)(t.To,{invalid:!0,children:"Please Upload profile piture"})]})})]}),(0,d.jsxs)(t.If,{children:[(0,d.jsx)(t.Q_,{onClick:()=>x(!1),style:{backgroundColor:"#F5F5F5",color:"black",borderColor:"#DCDCDC"},children:"\xa0Close\xa0"}),(0,d.jsx)(t.Q_,{type:"submit",style:{backgroundColor:p,color:"white"},children:"\xa0Submit"})]})]})]}),(0,d.jsxs)(t.zS,{size:"lg",visible:u,onClose:()=>j(!1),backdrop:"static",children:[(0,d.jsx)(t.E4,{onClose:()=>j(!1),style:{backgroundColor:p,color:"white"},children:(0,d.jsx)(t.lb,{children:"Edit Profile Details"})}),(0,d.jsxs)(t.qI,{className:"row g-3 needs-validation",style:{margin:"10px"},noValidate:!0,onSubmit:async e=>{console.log("inside savetopic "),e.preventDefault();const l=new FormData(e.target);if(console.log(l+"santosh dhage"),e.target.profile_img.files[0]){let e=await s.patch("api/users/"+g.user.id+"/",l);if(1===e.data.success)o(e.data.result);else if(0===e.data.success)for(let s=0;s<Object.values(e.data.result).length;s++){let l=Object.values(e.data.result)[s];alert(l)}window.location.reload()}else{const e=new FormData;for(const[i,a]of l.entries()){"profile_img"!=i&&e.append(i,a);let l=await s.patch("api/users/"+g.user.id+"/",e);o(l.data.result)}}},children:[(0,d.jsxs)(t.Tc,{children:[(0,d.jsxs)(t.sK,{sm:12,className:"",children:[(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"first_name",children:"Name"}),(0,d.jsx)(t.OG,{type:"text",id:"first_name",name:"name",pattern:"[A-Za-z\\s]+",defaultValue:null===l||void 0===l?void 0:l.name,maxLength:50,onKeyPress:e=>{const s=e.which||e.keyCode,l=String.fromCharCode(s);/^[a-zA-Z]*$/.test(l)||e.preventDefault()}}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your name"})]}),(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"email",children:"Email"}),(0,d.jsx)(t.OG,{type:"email",id:"email",pattern:"^(?!\\s)[^\\s@]+@[^\\s@]+[a-zA-Z]+(\\.[a-zA-Z]+)+$",defaultValue:null===l||void 0===l?void 0:l.email,name:"email",maxLength:50}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your email"})]})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-1",children:[(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"mobile_no",children:"Mobile No."}),(0,d.jsx)(t.OG,{type:"text",id:"mobile_no",name:"mobile_no",defaultValue:null===l||void 0===l?void 0:l.mobile_no,maxLength:15,minLength:8,pattern:"^(?!\\s)[0-9\\s]+$",onKeyPress:e=>{const s=e.which||e.keyCode,l=String.fromCharCode(s);/^[0-9\s]*$/.test(l)||e.preventDefault()}}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your mobile no"})]}),(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"address1",children:"Address 1"}),(0,d.jsx)(t.OG,{type:"text",id:"address1",defaultValue:null===l||void 0===l?void 0:l.address1,name:"address1",maxLength:50}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your address1"})]})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-1",children:[(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"address2",children:"Address 2"}),(0,d.jsx)(t.OG,{type:"text",id:"address2",name:"address2",defaultValue:null===l||void 0===l?void 0:l.address2,maxLength:50}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your address2"})]}),(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"pincode",children:"Pincode"}),(0,d.jsx)(t.OG,{type:"text",id:"pincode",defaultValue:null===l||void 0===l?void 0:l.pincode,name:"pincode",maxLength:6,minLength:4,pattern:"^[0-9]+$",onKeyPress:e=>{const s=e.which||e.keyCode,l=String.fromCharCode(s);/^[0-9]$/.test(l)}}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your pincode"})]})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-1",children:[(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"country",children:"Country"}),(0,d.jsx)(t.OG,{type:"text",id:"country",defaultValue:null===l||void 0===l?void 0:l.country,name:"country",pattern:"[A-Za-z\\s]+",maxLength:50,onKeyPress:e=>{const s=e.which||e.keyCode,l=String.fromCharCode(s);/^[A-Za-z\s]$/.test(l)||e.preventDefault()}}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your country"})]}),(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"state",children:"State"}),(0,d.jsx)(t.OG,{type:"text",defaultValue:null===l||void 0===l?void 0:l.state,id:"state",name:"state",pattern:"[A-Za-z\\s]+",maxLength:50,onKeyPress:e=>{const s=e.which||e.keyCode,l=String.fromCharCode(s);/^[A-Za-z\s]$/.test(l)||e.preventDefault()}}),(0,d.jsx)(t.To,{invalid:!0,children:"Please enter your state"})]})]}),(0,d.jsxs)(t.sK,{sm:12,className:"mb-2",children:[(0,d.jsx)(t.UF,{sm:2,children:(0,d.jsx)("p",{children:" Current Profile Photo :"})}),(0,d.jsx)(t.UF,{sm:4,children:(0,d.jsx)("img",{id:"image",src:null===l||void 0===l?void 0:l.profile_img,width:"150",height:"100"})})]}),(0,d.jsx)(t.sK,{sm:12,className:"mb-1",children:(0,d.jsxs)(t.UF,{sm:6,children:[(0,d.jsx)(t.A6,{htmlFor:"profile_img",children:"Profile Photo"}),(0,d.jsx)(t.OG,{type:"file",id:"profile_img",name:"profile_img",defaultValue:null===(e=document.getElementById("image"))||void 0===e?void 0:e.src,maxLength:50,size:"sm",accept:".png , .jpg",onChange:e=>{const s=e.target.files[0];s&&s.size>2097152&&(e.target.value=null,alert("Image size should be maximum 2MB."))}}),(0,d.jsx)("p",{children:" Image format must be .png or .jpg "}),(0,d.jsx)(t.To,{invalid:!0,children:"Please Upload profile piture"})]})})]}),(0,d.jsxs)(t.If,{children:[(0,d.jsx)(t.Q_,{onClick:()=>j(!1),style:{backgroundColor:p,color:"black",borderColor:"#DCDCDC"},children:"\xa0Close\xa0"}),(0,d.jsx)(t.Q_,{type:"submit",onClick:()=>j(!1),style:{backgroundColor:p,color:"white"},children:"\xa0Submit"})]})]})]})]})}}}]);