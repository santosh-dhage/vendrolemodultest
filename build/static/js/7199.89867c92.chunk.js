"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7199],{87199:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var t=a(9950),l=a(1072),r=a(28429),n=a(37017),i=a(44885),d=a(42074),o=a(45532),c=a(79988),m=a(7864),u=a(27760),h=a(44414);const x=function(){(0,r.Zp)();let e=(0,l.A)();const{user:s,authTokens:a}=(0,t.useContext)(o.A);let[x,j]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[v,y]=(0,t.useState)([]);const{selectedColor:b}=(0,i.useColor)();let[f,_]=(0,t.useState)();const[N,C]=(0,t.useState)(!1),[F,w]=(0,t.useState)(!1),[A,D]=(0,t.useState)(!1),[S,P]=(0,t.useState)(!1),[k,O]=(0,t.useState)(!1),[T,z]=(0,t.useState)([]),[L,U]=(0,t.useState)(!1),[q,K]=(0,t.useState)(!1);(0,t.useEffect)((()=>{V()}),[]);let V=async()=>{let s=await e.get("/api/get_user_list/");if(1===s.data.success){let e=[],a=[];for(let t=0;t<s.data.result.length;t++){let l=s.data.result[t];e.push(l.email),a.push(l.mobile_no)}g(e),y(a)}else if(0===s.data.success)for(let e=0;e<Object.values(s.data.result).length;e++){let a=Object.values(s.data.result)[e];alert(a)}};(0,t.useEffect)((()=>{G()}),[]);let G=async()=>{let s=await e.get("api/get_user_list/");if(1===s.data.success){let e=[];for(let a=0;a<s.data.result.length;a++){let t=s.data.result[a],l={id:t.id,name:t.name,email:t.email,mobile_no:t.mobile_no,address1:t.address1,address2:t.address2,pincode:t.pincode,country:t.country,landmark:t.landmark,state:t.state,created_at:t.created_at,organization:t.organization,role:t.role,created_by:t.created_by,is_active:!0===t.is_active?"Active":"Inactive"};e.sort(((e,s)=>new Date(s.created_at)-new Date(e.created_at))),e.push(l)}j(e)}else if(0===s.data.success)for(let e=0;e<Object.values(s.data.result).length;e++){let a=Object.values(s.data.result)[e];alert(a)}},$=()=>{window.location.reload()};const Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;const s=new Date(e),a=String(s.getDate()).padStart(2,"0"),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getMonth()],l=s.getFullYear(),r=String(s.getHours()).padStart(2,"0"),n=String(s.getMinutes()).padStart(2,"0");return"".concat(a," - ").concat(t," - ").concat(l," ").concat(r,":").concat(n)};let E=[{label:"Active",value:!0},{label:"Inactive",value:!1}],M=e=>{let s=[];for(let a=0;a<E.length;a++){let t=E[a];e==t.label&&s.push(t)}for(let a=0;a<E.length;a++){let t=E[a];e!=t.label&&s.push(t)}z(s)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,h.jsx)("h3",{className:"mb-0",style:{color:"#2C384A"},children:"Onboarding"}),(0,h.jsx)(n.Q_,{onClick:()=>{w(!F)},className:"mt-2",style:{backgroundColor:b,color:"white"},children:"Add New"})]}),(0,h.jsx)(n.sK,{children:(0,h.jsx)(n.UF,{xs:12,children:(0,h.jsx)(n.Pd,{activePage:1,clickableRows:!0,columns:[{key:"sr_no",label:"Sr No.",sorter:!1,_props:{color:"secondary",className:"fw-semibold"}},{label:"Name",key:"name",sorter:!1,_props:{color:"secondary",className:"fw-semibold"}},{label:"Email",key:"email",sorter:!1,_props:{color:"secondary",className:"fw-semibold"}},{label:"Oragnization Name",key:"organization",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"130px"},sorter:!1},{label:"Created Date",key:"created_at",sorter:!1,_props:{color:"secondary",className:"fw-semibold"}},{label:"Mobile No",key:"mobile_no",sorter:!1,_props:{color:"secondary",className:"fw-semibold"}},{label:"Status",key:"is_active",sorter:!1,_props:{color:"secondary",className:"fw-semibold"}},{key:"Action",label:"Action",filter:!1,sorter:!1,_props:{color:"secondary",className:"fw-semibold"}}],columnSorter:!0,items:x,itemsPerPageSelect:!0,itemsPerPage:10,pagination:!0,scopedColumns:{Action:e=>(0,h.jsxs)("td",{children:[(0,h.jsx)(d.N_,{to:"#",children:(0,h.jsx)(m.A,{icon:u.K,style:{color:"blue"},size:"md",title:"Edit",onClick:()=>[_(e),C(e.id),M(e.is_active),D(!A)]})}),"\xa0\xa0\xa0",(0,h.jsx)(d.N_,{to:"/Onboardingview/"+"".concat(e.id),children:(0,h.jsx)(n.t7,{src:c,width:17,height:15,title:"View Details"})})]}),sr_no:(e,s)=>(0,h.jsx)("td",{children:s+1}),created_at:e=>(0,h.jsx)("td",{children:Z(e.created_at)})},itemsPerPageOptions:[10,20,50,100],tableProps:{color:"success-color-secondary",hover:!0,border:"1.5px solid #074",responsive:!0},tableHeadProps:{color:"light",align:"middle",className:"align-middle"},tableBodyProps:{align:"middle",className:"align-middle"},tableFilterLabel:"Search : ",tableFilterPlaceholder:"Enter String to Search",itemsPerPageLabel:"Rows per page:"})})})]}),(0,h.jsxs)(n.zS,{size:"lg",visible:F,onClose:()=>[w(!1),O(!1),U(!1)],backdrop:"static",children:[(0,h.jsx)(n.E4,{onClose:()=>[w(!1),O(!1),U(!1)],style:{backgroundColor:b,color:"white"},children:(0,h.jsx)(n.lb,{children:"Add New User"})}),(0,h.jsxs)(n.qI,{className:"row g-3 needs-validation",style:{margin:"10px"},noValidate:!0,validated:k,onSubmit:s=>{s.preventDefault(),(async s=>{K(!0);const a=s.currentTarget;if(s.preventDefault(),!0===a.checkValidity())if(null!==p&&void 0!==p&&p.includes(s.target.email.value))K(!1),alert("This email already exists");else if(null!==v&&void 0!==v&&v.includes(s.target.mobile_no.value))K(!1),alert("This mobile number already exists");else{const a=new FormData(s.target);a.append("password","Vendsoft@12"),a.append("email",s.target.email.value.toLowerCase()),a.append("is_active",!0),a.append("role","4");let t=await e.post("/api/users/",a);if(1===t.data.success)alert("User is created"),O(!1),w(!1),G(),$();else if(0===t.data.success)for(let e=0;e<Object.values(t.data.result).length;e++){let s=Object.values(t.data.result)[e];alert(s)}}else O(!0);K(!1)})(s),s.currentTarget.checkValidity()&&U(!0)},children:[(0,h.jsxs)(n.Tc,{children:[(0,h.jsxs)(n.sK,{sm:12,className:"",children:[(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Name",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",id:"name",name:"name",pattern:"[A-Za-z\\s]+",required:!0,maxLength:50}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your name"})]}),(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Oragnization Name",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",id:"organization",name:"organization",required:!0,defaultValue:null===f||void 0===f?void 0:f.organization,maxLength:50,pattern:"^[^\\d]+$",onKeyPress:e=>{const s=e.which||e.keyCode,a=String.fromCharCode(s);/^[^\d]+$/.test(a)||e.preventDefault()}}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your  organization name"})]})]}),(0,h.jsxs)(n.sK,{sm:12,className:"mb-1",children:[(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Email",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"email",id:"email",pattern:"^(?!\\s)[^\\s@]+@[^\\s@]+[a-zA-Z]+(\\.[a-zA-Z]+)+$",name:"email",required:!0,maxLength:50}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your email"})]}),(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Mobile No",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"tel",id:"mobile_no",name:"mobile_no",required:!0,maxLength:15,minLength:8,pattern:"^(?!\\s)[0-9\\s]+$",onKeyPress:e=>{const s=e.which||e.keyCode,a=String.fromCharCode(s);/^[0-9\s]*$/.test(a)||e.preventDefault()}}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your mobile number"})]})]}),(0,h.jsxs)(n.sK,{sm:12,className:"mb-1",children:[(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Address 1",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",id:"address1",name:"address1",required:!0,maxLength:200}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your address1"})]}),(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Address 2",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",id:"address2",name:"address2",maxLength:200}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your address2"})]})]}),(0,h.jsxs)(n.sK,{sm:12,className:"mb-1",children:[(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Pincode",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",id:"pincode",name:"pincode",required:!0,maxLength:6,minLength:4,pattern:"^[0-9]+$",onKeyPress:e=>{const s=e.which||e.keyCode,a=String.fromCharCode(s);/^[0-9]$/.test(a)||e.preventDefault()}}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your pincode"})]}),(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Country",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",id:"country",name:"country",required:!0,pattern:"[A-Za-z\\s]+",maxLength:50}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your country"})]})]}),(0,h.jsx)(n.sK,{sm:12,className:"mb-1",children:(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["State",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",id:"state",name:"state",pattern:"[A-Za-z\\s]+",required:!0,maxLength:50}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your state"})]})})]}),(0,h.jsxs)(n.If,{children:[(0,h.jsx)(n.Q_,{onClick:()=>[w(!1),O(!1),U(!1)],style:{backgroundColor:"#F5F5F5",color:"black",borderColor:"#DCDCDC"},children:"\xa0Close\xa0"}),(0,h.jsxs)(n.Q_,{type:"submit",style:{backgroundColor:b,color:"white"},disabled:L,children:["\xa0 ","Submit"]})]})]}),q?(0,h.jsx)(n.JT,{className:"Spinner",style:{color:b}}):""]}),(0,h.jsxs)(n.zS,{size:"lg",visible:A,onClose:()=>[D(!1),O(!1)],backdrop:"static",children:[(0,h.jsx)(n.E4,{onClose:()=>[D(!1),O(!1)],style:{backgroundColor:b,color:"white"},children:(0,h.jsx)(n.lb,{children:"Edit  User Details"})}),(0,h.jsxs)(n.qI,{className:"row g-3 needs-validation",style:{margin:"10px"},noValidate:!0,validated:k,onSubmit:async s=>{const a=s.currentTarget;if(s.preventDefault(),!0===a.checkValidity()){const a=new FormData(s.target);a.append("password","Vendsoft@12");let t=await e.patch("/api/users/".concat(N,"/"),a);if(1===t.data.success)alert("User details updated"),O(!1),D(!1),G(),$();else if(0===t.data.success)for(let e=0;e<Object.values(t.data.result).length;e++){let s=Object.values(t.data.result)[e];alert(s)}}O(!0)},children:[(0,h.jsxs)(n.Tc,{children:[(0,h.jsxs)(n.sK,{sm:12,className:"",children:[(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Name",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",id:"name",name:"name",required:!0,pattern:"[A-Za-z\\s]+",defaultValue:null===f||void 0===f?void 0:f.name,maxLength:50}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your name"})]}),(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Email",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"email",id:"email",defaultValue:null===f||void 0===f?void 0:f.email,name:"email",required:!0,maxLength:50}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your email"})]})]}),(0,h.jsxs)(n.sK,{sm:12,className:"mb-1",children:[(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Mobile No.",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",id:"mobile_no",name:"mobile_no",defaultValue:null===f||void 0===f?void 0:f.mobile_no,required:!0,maxLength:15,minLength:8,pattern:"^(?!\\s)[0-9\\s]+$",onKeyPress:e=>{const s=e.which||e.keyCode,a=String.fromCharCode(s);/^[0-9\s]*$/.test(a)||e.preventDefault()}}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your mobile no"})]}),(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Address 1",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",id:"address1",defaultValue:null===f||void 0===f?void 0:f.address1,name:"address1",required:!0,maxLength:200}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your address1"})]})]}),(0,h.jsxs)(n.sK,{sm:12,className:"mb-1",children:[(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Address 2",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",id:"address2",name:"address2",defaultValue:null===f||void 0===f?void 0:f.address2,maxLength:200}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your address2"})]}),(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Pincode",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",id:"pincode",defaultValue:null===f||void 0===f?void 0:f.pincode,name:"pincode",required:!0,maxLength:6,minLength:4,pattern:"^[0-9]+$",onKeyPress:e=>{const s=e.which||e.keyCode,a=String.fromCharCode(s);/^[0-9]$/.test(a)||e.preventDefault()}}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your pincode"})]})]}),(0,h.jsxs)(n.sK,{sm:12,className:"mb-1",children:[(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["State",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",defaultValue:null===f||void 0===f?void 0:f.state,id:"state",name:"state",pattern:"[A-Za-z\\s]+",required:!0,maxLength:50}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your state"})]}),(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Country",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",id:"country",defaultValue:null===f||void 0===f?void 0:f.country,name:"country",required:!0,pattern:"[A-Za-z\\s]+",maxLength:50}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your country"})]})]}),(0,h.jsxs)(n.sK,{sm:12,className:"mb-1",children:[(0,h.jsxs)(n.UF,{md:6,children:[(0,h.jsx)(n.A6,{htmlFor:"validationCustom01",children:" Status "}),(0,h.jsx)(n.MT,{id:"is_active",name:"is_active",defaultValue:null===f||void 0===f?void 0:f.is_active,required:!0,options:T}),(0,h.jsx)(n.To,{invalid:!0,children:"Please select status"})]}),(0,h.jsxs)(n.UF,{sm:6,children:[(0,h.jsxs)(n.A6,{htmlFor:"validationDefault01",children:["Oragnization Name",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(n.OG,{type:"text",id:"organization",name:"organization",required:!0,defaultValue:null===f||void 0===f?void 0:f.organization,maxLength:50,pattern:"^[^\\d]+$",onKeyPress:e=>{const s=e.which||e.keyCode,a=String.fromCharCode(s);/^[^\d]+$/.test(a)||e.preventDefault()}}),(0,h.jsx)(n.To,{invalid:!0,children:"Please enter your  organization name"})]})]})]}),(0,h.jsxs)(n.If,{children:[(0,h.jsx)(n.Q_,{onClick:()=>[D(!1),O(!1)],style:{backgroundColor:"#F5F5F5",color:"black",borderColor:"#DCDCDC"},children:"\xa0Close\xa0"}),(0,h.jsxs)(n.Q_,{type:"submit",style:{backgroundColor:b,color:"white"},disabled:L,children:["\xa0 ","Submit"]})]})]})]})]})}},27760:(e,s,a)=>{a.d(s,{K:()=>t});const t=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M29.663,482.25l.087.087a24.847,24.847,0,0,0,17.612,7.342,25.178,25.178,0,0,0,8.1-1.345l142.006-48.172,272.5-272.5A88.832,88.832,0,0,0,344.334,42.039l-272.5,272.5L23.666,456.541A24.844,24.844,0,0,0,29.663,482.25Zm337.3-417.584a56.832,56.832,0,0,1,80.371,80.373L411.5,180.873,331.127,100.5ZM99.744,331.884,308.5,123.127,388.873,203.5,180.116,412.256,58.482,453.518Z' class='ci-primary'/>"]}}]);