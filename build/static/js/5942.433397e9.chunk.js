"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5942],{35942:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var s=a(9950),l=a(1072),r=a(28429),o=a(37017),c=a(42074),d=a(45532),i=(a(79988),a(7864)),n=a(27760),u=a(44885),m=a(44414);const h=function(){(0,r.Zp)();let e=(0,l.A)();const{user:t,authTokens:a}=(0,s.useContext)(d.A);let[h,p]=(0,s.useState)([]),[x,b]=(0,s.useState)([]),[y,j]=(0,s.useState)([]),[g,_]=(0,s.useState)([]),[v,f]=(0,s.useState)();const[C,S]=(0,s.useState)(!1),[k,w]=(0,s.useState)(!1),[P,N]=(0,s.useState)(!1),[A,D]=(0,s.useState)(!1),[F,T]=(0,s.useState)([]),[O,L]=(0,s.useState)(!1),{selectedColor:V}=(0,u.useColor)();(0,s.useEffect)((()=>{E()}),[]);let E=async()=>{let t=await e.get("/machine/get_product_list/");if(1===t.data.success){let e=[];for(let a=0;a<t.data.result.length;a++){let s=t.data.result[a],l={id:s.id,product_type:s.product_type,created_at:s.created_at,amount:s.amount,created_by:s.created_by,is_active:!0===s.is_active?"Active":"Inactive"};e.sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at))),e.push(l)}p(e)}else if(0===t.data.success)for(let e=0;e<Object.values(t.data.result).length;e++){let a=Object.values(t.data.result)[e];alert(a)}};const M=async t=>{const a=t.currentTarget;if(t.preventDefault(),!0===a.checkValidity()){const a=new FormData(t.target);let s=await e.post("/machine/product/",a);if(1===s.data.success)alert("Product is added ."),D(!1),w(!1),E(),window.location.reload();else if(0===s.data.success)for(let e=0;e<Object.values(s.data.result).length;e++){let t=Object.values(s.data.result)[e];alert(t)}}else D(!0)},q=e=>{const t=new Date(e),a=String(t.getDate()).padStart(2,"0"),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],l=t.getFullYear(),r=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return"".concat(a," - ").concat(s," - ").concat(l,"  ").concat(r,":").concat(o)};let I=[{label:"Active",value:!0},{label:"Inactive",value:!1}],K=e=>{let t=[];for(let a=0;a<I.length;a++){let s=I[a];e==s.label&&t.push(s)}for(let a=0;a<I.length;a++){let s=I[a];e!=s.label&&t.push(s)}T(t)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,m.jsx)("h3",{className:"mb-0",style:{color:"#2C384A"},children:"Product Type"}),(0,m.jsx)(o.Q_,{onClick:()=>{w(!k)},className:"mt-2",style:{backgroundColor:V,color:"white",border:"0px"},children:"Add New"})]}),(0,m.jsx)(o.sK,{xm:{cols:12},children:(0,m.jsx)(o.UF,{xs:12,children:(0,m.jsx)(o.E$,{className:"mb-1 shadow bg-body rounded",children:(0,m.jsx)(o.W6,{children:(0,m.jsx)(o.Pd,{activePage:1,clickableRows:!0,columns:[{key:"sr_no",label:"Sr. No.",sorter:!1,_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"75px"}},{label:"Product Type",key:"product_type",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"100px"},sorter:!1},{label:"Amount",key:"amount",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"130px"},sorter:!1},{label:"Created Date",key:"created_at",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"120px"},sorter:!1},{key:"Action",label:"Action",filter:!1,sorter:!1,_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"60px"}}],columnSorter:!0,items:h,itemsPerPageSelect:!0,itemsPerPage:10,pagination:!0,scopedColumns:{Action:e=>(0,m.jsxs)("td",{children:[(0,m.jsx)(c.N_,{to:"#",children:(0,m.jsx)(i.A,{icon:n.K,style:{color:"blue"},size:"md",title:"Edit",onClick:()=>[f(e),S(e.id),K(e.is_active),N(!P)]})}),"\xa0\xa0\xa0"]}),sr_no:(e,t)=>(0,m.jsx)("td",{children:t+1}),created_at:e=>(0,m.jsx)("td",{children:q(e.created_at)})},sorterValue:{coloumns:"created_at",state:"asc"},itemsPerPageOptions:[10,20,50,100],tableFilter:!0,tableProps:{color:"success-color-secondary",hover:!0,border:"1.5px solid #074",responsive:!0},tableHeadProps:{color:"light",align:"middle"},tableBodyProps:{align:"middle"},tableFilterLabel:"Search : ",tableFilterPlaceholder:"Enter String to Search",itemsPerPageLabel:"Rows per page:"})})})})})]}),(0,m.jsxs)(o.zS,{size:"md",visible:k,onClose:()=>[w(!1),D(!1),L(!1)],backdrop:"static",children:[(0,m.jsx)(o.E4,{onClose:()=>[w(!1),D(!1),L(!1)],style:{backgroundColor:V,color:"white"},children:(0,m.jsx)(o.lb,{children:"  Add Product Type"})}),(0,m.jsxs)(o.qI,{className:"row g-3 needs-validation",style:{margin:"10px"},noValidate:!0,validated:A,onSubmit:e=>{e.preventDefault(),M(e),e.currentTarget.checkValidity()&&L(!0)},children:[(0,m.jsx)(o.Tc,{children:(0,m.jsxs)(o.sK,{sm:12,className:"",children:[(0,m.jsxs)(o.UF,{sm:6,children:[(0,m.jsxs)(o.A6,{htmlFor:"validationDefault01",children:["Product Type",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(o.OG,{type:"text",id:"product_type",name:"product_type",required:!0,maxLength:50}),(0,m.jsx)(o.To,{invalid:!0,children:"Please enter  Product Name"})]}),(0,m.jsxs)(o.UF,{sm:6,children:[(0,m.jsxs)(o.A6,{htmlFor:"validationDefault01",children:["Amount",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(o.OG,{type:"text",id:"amount",name:"amount",required:!0,maxLength:50,pattern:"^[0-9]+$",onKeyPress:e=>{const t=e.which||e.keyCode,a=String.fromCharCode(t);/^[0-9]$/.test(a)||e.preventDefault()}}),(0,m.jsx)(o.To,{invalid:!0,children:"Please enter  Amount "})]})]})}),(0,m.jsxs)(o.If,{children:[(0,m.jsx)(o.Q_,{onClick:()=>[w(!1),D(!1),L(!1)],style:{backgroundColor:"#F5F5F5",color:"black",borderColor:"#DCDCDC",border:"0px"},children:"\xa0Close\xa0"}),(0,m.jsx)(o.Q_,{type:"submit",style:{backgroundColor:V,color:"white",border:"0px"},children:"\xa0Submit"})]})]})]}),(0,m.jsxs)(o.zS,{size:"md",visible:P,onClose:()=>[N(!1),D(!1)],backdrop:"static",children:[(0,m.jsx)(o.E4,{onClose:()=>[N(!1),D(!1)],style:{backgroundColor:V,color:"white"},children:(0,m.jsx)(o.lb,{children:"Edit Product  Details"})}),(0,m.jsxs)(o.qI,{className:"row g-3 needs-validation",style:{margin:"10px"},noValidate:!0,validated:A,onSubmit:async t=>{const a=t.currentTarget;if(t.preventDefault(),!0===a.checkValidity()){const a=new FormData(t.target);let s=await e.patch("/machine/product/".concat(C,"/"),a);if(1===s.data.success)alert("Product  details updated"),D(!1),N(!1),E();else if(0===s.data.success)for(let e=0;e<Object.values(s.data.result).length;e++){let t=Object.values(s.data.result)[e];alert(t)}}D(!0)},children:[(0,m.jsx)(o.Tc,{children:(0,m.jsxs)(o.sK,{sm:12,className:"",children:[(0,m.jsxs)(o.UF,{sm:6,children:[(0,m.jsxs)(o.A6,{htmlFor:"validationDefault01",children:["Product Type",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(o.OG,{type:"text",id:"product_type",name:"product_type",required:!0,defaultValue:null===v||void 0===v?void 0:v.product_type,maxLength:50}),(0,m.jsx)(o.To,{invalid:!0,children:"Please enter  Product Name"})]}),(0,m.jsxs)(o.UF,{sm:6,children:[(0,m.jsxs)(o.A6,{htmlFor:"validationDefault01",children:["Amount",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(o.OG,{type:"text",id:"amount",name:"amount",required:!0,defaultValue:null===v||void 0===v?void 0:v.amount,maxLength:50}),(0,m.jsx)(o.To,{invalid:!0,children:"Please enter  Model No"})]})]})}),(0,m.jsxs)(o.If,{children:[(0,m.jsx)(o.Q_,{onClick:()=>[N(!1),D(!1)],style:{backgroundColor:"#F5F5F5",color:"black",borderColor:"#DCDCDC",border:"0px"},children:"\xa0Close\xa0"}),(0,m.jsx)(o.Q_,{type:"submit",style:{backgroundColor:V,color:"white",border:"0px"},children:"\xa0Submit"})]})]})]})]})}},27760:(e,t,a)=>{a.d(t,{K:()=>s});const s=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M29.663,482.25l.087.087a24.847,24.847,0,0,0,17.612,7.342,25.178,25.178,0,0,0,8.1-1.345l142.006-48.172,272.5-272.5A88.832,88.832,0,0,0,344.334,42.039l-272.5,272.5L23.666,456.541A24.844,24.844,0,0,0,29.663,482.25Zm337.3-417.584a56.832,56.832,0,0,1,80.371,80.373L411.5,180.873,331.127,100.5ZM99.744,331.884,308.5,123.127,388.873,203.5,180.116,412.256,58.482,453.518Z' class='ci-primary'/>"]}}]);