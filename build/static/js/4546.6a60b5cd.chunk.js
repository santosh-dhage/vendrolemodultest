"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4546],{24546:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(9950),l=s(28429),n=s(45532),i=(s(96011),s(37017)),r=s(46763),c=s(73960),d=s(81463),o=s(82486),m=s(44414);const u=()=>{(0,l.Zp)();const{user:e,authTokens:t}=(0,a.useContext)(n.A),[s,u]=(0,a.useState)([]),[x,h]=(0,a.useState)(!1);let j=(0,o.A)(),[p,f]=(0,a.useState)([]),[b,g]=(0,a.useState)([]);const[y,v]=(0,a.useState)(!1),[N,_]=(0,a.useState)(!1),[w,F]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1);(0,a.useEffect)((()=>{D()}),[]);let D=async()=>{let e=await j.get("saas/saasapp/complaint/");if(console.log(e),1===e.data.success){let t=[];for(let s=0;s<e.data.result.length;s++){let a=e.data.result[s];console.log(a);let l={name:a.name,email:a.email,mobileno:a.mobileno,description:a.description,date:a.date};t.sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at))),t.push(l)}u(t)}else if(0===e.data.success)for(let t=0;t<Object.values(e.data.result).length;t++){let s=Object.values(e.data.result)[t];alert(s)}};const k=async e=>{const t=e.currentTarget;if(e.preventDefault(),!0===t.checkValidity()){const t=new FormData(e.target);let s=await j.post("/saas/saasapp/complaint/",t);if(1===s.data.success)alert("Complaint Submitted ."),F(!1),v(!1),D(),window.location.reload();else if(0===s.data.success)for(let e=0;e<Object.values(s.data.result).length;e++){let t=Object.values(s.data.result)[e];alert(t)}}else F(!0)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.default,{}),(0,m.jsxs)(i.sK,{className:"mx-5 mt-5 mb-5",children:[(0,m.jsx)(i.UF,{xs:12,md:6,className:"d-flex justify-content-center align-items-center mb-3",children:(0,m.jsx)(i.t7,{src:d,style:{maxWidth:"100%",height:"auto"}})}),(0,m.jsx)(i.UF,{xs:12,md:6,children:(0,m.jsx)(i.E$,{className:"h-auto",style:{boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",borderRadius:"10px"},children:(0,m.jsxs)(i.qI,{className:"needs-validation mt-4",noValidate:!0,validated:w,onSubmit:async e=>{e.preventDefault(),console.log("Form submitted"),k(e),e.currentTarget.checkValidity()&&C(!0)},children:[(0,m.jsxs)(i.sK,{className:"justify-content-center mx-4",children:[(0,m.jsx)("b",{className:"justify-content-center mx-4",children:"Complaint"}),(0,m.jsxs)(i.sK,{sm:12,className:"",children:[(0,m.jsxs)(i.UF,{sm:6,children:[(0,m.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Name",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(i.OG,{type:"text",id:"name",name:"name",required:!0,pattern:"[A-Za-z\\s]+",maxLength:50}),(0,m.jsx)(i.To,{invalid:!0,children:"Please enter your name"})]}),(0,m.jsxs)(i.UF,{sm:6,children:[(0,m.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Email",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(i.OG,{type:"text",id:"email",pattern:"^(?!\\s)[^\\s@]+@[^\\s@]+[a-zA-Z]+(\\.[a-zA-Z]+)+$",name:"email",required:!0,maxLength:50}),(0,m.jsx)(i.To,{invalid:!0,children:"Please enter your email"})]})]}),(0,m.jsxs)(i.sK,{sm:12,className:"mb-1",children:[(0,m.jsxs)(i.UF,{sm:6,children:[(0,m.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Mobile No.",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(i.OG,{type:"tel",id:"mobileno",name:"mobileno",required:!0,maxLength:15,minLength:8,pattern:"^(?!\\s)[0-9\\s]+$",onKeyPress:e=>{const t=e.which||e.keyCode,s=String.fromCharCode(t);/^[0-9\s]*$/.test(s)||e.preventDefault()}}),(0,m.jsx)(i.To,{invalid:!0,children:"Please enter your mobile no"})]}),(0,m.jsxs)(i.UF,{sm:6,children:[(0,m.jsxs)(i.A6,{htmlFor:"validationDefault01",children:["Complaint",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(i.Im,{type:"text",id:"description",name:"description",rows:1,required:!0,maxLength:50}),(0,m.jsx)(i.To,{invalid:!0,children:"Please enter your complaint"})]})]})]}),(0,m.jsx)("div",{className:"d-flex justify-content-center  mb-4",children:(0,m.jsx)(i.Q_,{type:"submit",style:{backgroundColor:"#2596be",color:"white"},className:"mx-5",children:"\xa0Submit"})})]})})})]}),(0,m.jsx)(c.default,{})]})}}}]);