"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8080],{82486:(e,s,r)=>{r.d(s,{A:()=>l});var a=r(96011),t=r.n(a),d=(r(42891),r(4159),r(9950),r(45532),r(74297)),n=r(9210),o=r.n(n),c=r(95652);const i=(0,d.A)(),l=()=>{const e=(0,c.A)(),s=(o().SHA256(e).toString(),t().create({baseURL:i,headers:{"x-api-key":e}}));return s.interceptors.request.use((async e=>e)),s}},85699:(e,s,r)=>{r.r(s),r.d(s,{default:()=>u});var a=r(9950),t=r(49911),d=r(45532),n=r(82486),o=r(79988),c=r(7864),i=r(3629),l=r(28429),m=r(44414);const u=()=>{const{user:e,authTokens:s,logoutUser:r}=(0,a.useContext)(d.A);let u=(0,n.A)(),{uid:h,token:p}=(0,l.g)();const x=(0,l.Zp)(),[w,j]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!1),[g,_]=(0,a.useState)(!1),v=()=>{b(!f)};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(t.T5,{className:"d-grid gap-2 d-md-flex justify-content-md-center",children:(0,m.jsx)(t.qI,{className:"row mt-4 g-0 needs-validation",noValidate:!0,validated:w,onSubmit:e=>(async(e,s)=>{const r=e.currentTarget;if(e.preventDefault(),!0===r.checkValidity()){const r=e.target.new_password.value;if(r!==e.target.confirm_password.value)return void alert("New password and confirm password must match.");if(r===s)return void alert("New password cannot be the same as the current password.");const a=new FormData(e.target);a.append("uidb64",h),a.append("token",p);let t=await u.post("/reset-password/",a);if(1===t.data.success)e.target.new_password.value="",e.target.confirm_password.value="",alert("Your password is updated successfully."),j(!1),x("/login");else if(0===t.data.success)for(let e=0;e<Object.values(t.data.result).length;e++){let s=Object.values(t.data.result)[e];alert(s)}}else j(!0)})(e,"Vendsoft@12"),children:(0,m.jsxs)(t.E$,{className:"mt-4",style:{width:"48rem"},children:[(0,m.jsx)(t.V0,{className:"d-grid gap-2 d-md-flex justify-content-md-center fs-5 fw-bold",children:(0,m.jsx)("h3",{children:" Change Password"})}),(0,m.jsxs)(t.W6,{className:"mx-4 mt-2 ml-2",children:[(0,m.jsx)(t.sK,{className:"mt-4 mb-4",md:12}),(0,m.jsxs)(t.sK,{className:"mb-4",md:12,children:[(0,m.jsx)(t.UF,{md:4,children:(0,m.jsx)(t.A6,{htmlFor:"validationCustom01",children:"New Password"})}),(0,m.jsx)(t.UF,{md:8,children:(0,m.jsxs)(t.BG,{className:"mb-4",children:[(0,m.jsx)(t.sk,{children:(0,m.jsx)(c.A,{icon:i.q})}),(0,m.jsx)("input",{type:f?"text":"password",name:"new_password",id:"password1",placeholder:"New Password",autoComplete:"new-password",required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",style:{width:"300px",borderColor:"#D8DBE0"}}),(0,m.jsx)(t.sk,{children:(0,m.jsx)(t.t7,{src:o,height:"20px",width:"15px",onClick:v})}),(0,m.jsxs)(t.To,{invalid:!0,children:["Password must contain: one lowercase character",(0,m.jsx)("br",{}),"one uppercase character",(0,m.jsx)("br",{}),"one number",(0,m.jsx)("br",{}),"one special character",(0,m.jsx)("br",{}),"8 character minimum"]})]})})]}),(0,m.jsxs)(t.sK,{className:"mb-4",md:12,children:[(0,m.jsx)(t.UF,{md:4,children:(0,m.jsx)(t.A6,{htmlFor:"validationCustom02",children:"Confirm Password"})}),(0,m.jsx)(t.UF,{md:8,children:(0,m.jsxs)(t.BG,{className:"mb-4",children:[(0,m.jsx)(t.sk,{children:(0,m.jsx)(c.A,{icon:i.q})}),(0,m.jsx)("input",{type:g?"text":"password",name:"confirm_password",id:"password2",placeholder:"Confirm Password",autoComplete:"new-password",required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",style:{width:"300px",borderColor:"#D8DBE0"}}),(0,m.jsx)(t.sk,{children:(0,m.jsx)(t.t7,{src:o,height:"20px",width:"15px",onClick:v})}),(0,m.jsx)(t.To,{invalid:!0,children:"Please confirm your password."})]})})]})]}),(0,m.jsx)(t.XW,{className:"bg-white border border-0",children:(0,m.jsx)(t.sK,{md:12,children:(0,m.jsx)(t.UF,{md:12,className:"d-grid mb-2 gap-2 d-md-flex justify-content-md-center",children:(0,m.jsx)(t.Q_,{type:"submit",size:"md",style:{color:"white",backgroundColor:"#b20000"},children:"Reset Password"})})})})]})})})})}}}]);