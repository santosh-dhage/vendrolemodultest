(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[6634],{82486:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(96011),a=n.n(r),o=(n(42891),n(4159),n(9950),n(45532),n(74297)),s=n(9210),l=n.n(s),i=n(95652);const c=(0,o.A)(),u=()=>{const e=(0,i.A)(),t=(l().SHA256(e).toString(),a().create({baseURL:c,headers:{"x-api-key":e}}));return t.interceptors.request.use((async e=>e)),t}},14253:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(9950),a=n(49911),o=n(45532),s=n(82486),l=n(28429),i=n(7864),c=n(48822),u=n(79692),d=n.n(u),p=(n(11740),n(44414));const f=()=>{let e=(0,s.A)();const t=(0,l.Zp)();let{loginUser:n}=(0,r.useContext)(o.A);const[u,f]=(0,r.useState)(!1),[m,h]=(0,r.useState)([]);let[y,b]=(0,r.useState)();const[x,g]=(0,r.useState)(!1);let[v,j]=(0,r.useState)(),[O,T]=(0,r.useState)();const[w,C]=(0,r.useState)(""),[S,P]=(0,r.useState)(!1);return(0,p.jsx)("div",{className:"bg-white min-vh-100 d-flex flex-row align-items-center",children:(0,p.jsx)(a.T5,{children:(0,p.jsx)(a.sK,{className:"justify-content-center",children:(0,p.jsx)(a.UF,{md:4,children:(0,p.jsx)(a.x$,{style:{boxShadow:"2px 2px 2px 2px #ccc"},children:(0,p.jsx)(a.E$,{className:"p-5",children:(0,p.jsx)(a.W6,{children:(0,p.jsxs)(a.qI,{className:"row g-3 needs-validation",validated:u,noValidate:!0,onSubmit:async n=>{const r=n.currentTarget;if(n.preventDefault(),"submit1"===w){if(!0===r.checkValidity()){const t=new FormData(n.target);t.append("otp",O);const r=await e.post("/forgot-password/",t);1===r.data.success?(alert("OTP sent on your email id."),b(r.data.OTP),g(!0),C(null)):alert(r.data.message)}}else if("submit2"===w&&!0===r.checkValidity()){const r=new FormData(n.target);r.append("otp",O);const s=await e.post("/verify-otp/",r);var a,o;if(1===s.data.success)alert("OTP Match."),b(s.data.OTP),g(!0),t("/resetpassword/".concat(null===(a=s.data)||void 0===a?void 0:a.uid,"/").concat(null===(o=s.data)||void 0===o?void 0:o.token));else alert("OTP do not Match."),T("")}f(!0)},children:[(0,p.jsx)("h5",{className:"mt-1 mb-2",style:{fontFamily:"Calibri-Bold",fontSize:"20px",textAlign:"center",color:"#2596be"},children:"Forgot password"}),(0,p.jsx)("p",{className:"mt-3 mb-4",style:{fontFamily:"Calibri-Bold",fontSize:"20px",textAlign:"center"},children:"Enter your registered email id."}),(0,p.jsxs)(a.BG,{className:"mb-4",style:{height:"39px"},children:[(0,p.jsx)(a.sk,{children:(0,p.jsx)(i.A,{icon:c.X})}),(0,p.jsx)(a.OG,{placeholder:"Email",autoComplete:"username",type:"email",name:"email",required:!0,pattern:"^[^\\s@]+@[^\\s@]+[a-zA-Z]+(\\.[a-zA-Z]+)+$"}),(0,p.jsx)(a.To,{invalid:!0,children:"Please enter your registered email id"})]}),null!==w&&(0,p.jsx)("div",{className:"d-grid pt-1 mb-4",style:{height:"39px"},children:(0,p.jsx)(a.Q_,{style:{backgroundColor:"#2596be"},className:"px-3",type:"submit",onClick:()=>C("submit1"),children:(0,p.jsx)("b",{children:"Send OTP"})})}),1==x?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{className:"mt-3 mb-4",style:{fontFamily:"Calibri-Bold",fontSize:"20px",textAlign:"center"},children:"Enter the four-digit OTP sent to you on email."}),(0,p.jsx)(a.sK,{className:"",children:(0,p.jsx)(d(),{className:"otpbox d-flex justify-content-center",value:O,onChange:T,autoFocus:!0,OTPLength:4,otpType:"number",disabled:!1})}),S&&(0,p.jsx)("p",{style:{color:"red",textAlign:"center"},children:"Incorrect OTP, please try again"}),(0,p.jsx)("div",{className:"d-grid pt-1 mb-4",style:{height:"39px"},children:(0,p.jsx)(a.Q_,{style:{backgroundColor:"#2596be"},className:"px-3",type:"submit",disabled:!x,onClick:async()=>{let t=await e.post("/forgot-password/",{email:v.email});1===t.data.success&&(alert("OTP Sent"),b(t.data.OTP),j(t.data.result))},children:(0,p.jsx)("b",{children:"Resend OTP "})})}),(0,p.jsxs)(a.sK,{children:[(0,p.jsx)(a.UF,{md:5,className:"justify-content-sm-center"}),(0,p.jsx)(a.UF,{md:4,className:"otp1",children:(0,p.jsx)(a.Q_,{type:"submit",onClick:()=>{C("submit2")},style:{backgroundColor:"#2596be",color:"white",border:"none",height:"36px"},disabled:!x,children:"Submit"})})]})]}):(0,p.jsx)(p.Fragment,{})]})})})})})})})})}},79692:(e,t,n)=>{var r;window,e.exports=(r=n(9950),function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/otp-input-react/",n(n.s=1)}([function(e,t){e.exports=r},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.r(t);var s=n(0),l=n.n(s);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(i){a=!0,o=i}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=function(e){var t=e.maxTime,n=e.onTimerComplete,r=e.timeInterval,a=e.onResendClick,o=Object(s.useRef)(),l=i(Object(s.useState)(t),2),c=l[0],u=l[1];return Object(s.useEffect)((function(){return o.current&&0===c?(clearTimeout(o.current),n&&n()):o.current=setTimeout((function(){u((function(e){return e-1}))}),r),function(){clearTimeout(o.current)}}),[n,c,r]),{handelResendClick:function(){a&&a(0===c),u(t)},remainingTime:c}};function u(e){var t=e.renderTime,n=e.renderButton,r=e.style,s=e.className,i=o(e,["renderTime","renderButton","style","className"]),u=c(i),d=u.remainingTime,p=u.handelResendClick;return l.a.createElement("div",{className:s||"","data-testid":"otp-resend-root",style:a({display:"flex",justifyContent:"space-between"},r)},t?t(d):l.a.createElement("span",null,d," sec"),n?n({disabled:0!==d,onClick:p,remainingTime:d}):l.a.createElement("button",{disabled:0!==d,onClick:p,type:"button"},"Resend OTP"))}u.defaultProps={maxTime:60,timeInterval:1e3,style:{}};var d=u,p={width:32,height:32,textAlign:"center",marginRight:20},f=l.a.memo((function(e){var t=e.focus,n=e.autoFocus,r=e.disabled,i=e.value,c=e.onInputFocus,u=e.index,d=e.secure,f=e.inputStyles,m=e.otpType,h=o(e,["focus","autoFocus","disabled","value","onInputFocus","index","secure","inputStyles","otpType"]),y=Object(s.useRef)(null),b=Object(s.useRef)(!1);Object(s.useEffect)((function(){n&&t&&y.current.focus()}),[]),Object(s.useEffect)((function(){b.current&&t&&y.current.focus(),b.current=!0}),[t]);var x="text";return d?x="password":"number"===m&&(x="tel"),l.a.createElement("input",Object.assign({style:a({},p,f),type:x,maxLength:"1",ref:y,disabled:r,onFocus:function(e){return c(u,e)},value:i||""},h))})),m=function(e){var t=e.autoFocus,n=e.value,r=e.otpType,a=e.onChange,o=e.OTPLength,l=i(Object(s.useState)(t?0:-1),2),c=l[0],u=l[1],d=function(){return n?n.toString().split(""):[]},p=function(e){var t=e.join("");a(t)},f=function(){!function(e){var t=Math.max(Math.min(o-1,e),0);u(t)}("next"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next")?c+1:c-1)},m=function(e){var t=i(e,1)[0],n=d();n[c]=t,p(n)},h=function(e){switch(r){case"number":return!(e.charCodeAt(0)>57||e.charCodeAt(0)<48);case"alpha":return!(e.charCodeAt(0)>122||e.charCodeAt(0)<65);case"alphanumeric":return!(e.charCodeAt(0)>122||e.charCodeAt(0)<48);default:return!0}};return{activeInput:c,getOtpValue:d,handleOnChange:function(e){h(e.target.value)&&(m(e.target.value),f("next"))},handleOnKeyDown:function(e){switch(e.key){case"Backspace":e.preventDefault(),m(""),f("prev");break;case"Delete":e.preventDefault(),m("");break;case"ArrowLeft":e.preventDefault(),f("prev");break;case"ArrowRight":e.preventDefault(),f("next")}},handelOnInput:function(e){e.target.value.length>1&&(e.preventDefault(),f("next"))},handleOnPaste:function(e,t){e.preventDefault();for(var n=d(),r=e.clipboardData.getData("text/plain").slice(0,o-c).split(""),a=0;a<o;++a)a>=c&&r.length>0&&(n[a]=r.shift());for(var s=[n.length],l=0,i=0;i<n.length;++i)h(n[i])&&(s[l]=n[i],l++);p(s)},onInputFocus:function(e,t){u(e),t.target.select()}}},h=function(e){var t=e.OTPLength,n=e.disabled,r=e.autoFocus,o=e.value,i=void 0===o?"":o,c=e.onChange,u=e.otpType,d=e.secure,p=e.className,h=e.inputClassName,y=e.inputStyles,b=e.style,x=e.placeholder,g=m({autoFocus:r,value:i,otpType:u,onChange:c,OTPLength:t}),v=g.activeInput,j=g.getOtpValue,O=g.handleOnChange,T=g.handleOnKeyDown,w=g.handelOnInput,C=g.handleOnPaste,S=g.onInputFocus,P=Object(s.useMemo)((function(){for(var e=j(),a=[],o=0;o<t;o++)a.push(l.a.createElement(f,{className:h,inputStyles:y,key:o,focus:v===o,value:e[o],onChange:O,onKeyDown:T,onInput:w,onPaste:C,onInputFocus:S,index:o,disabled:n,autoFocus:r,secure:d,"data-testid":"input",otpType:u,placeholder:x&&x[o]}));return a}),[j,t,h,y,v,O,T,w,C,S,n,r,d,u,x]);return l.a.createElement("div",{style:a({display:"flex"},b),className:"".concat(p),"data-testid":"otp-input-root"},P)};h.defaultProps={className:"",inputClassName:"",OTPLength:4,onChange:function(){},disabled:!1,secure:!1,autoFocus:!1,value:"",otpType:"any",inputStyles:{},style:{},placeholder:void 0};var y=h;n.d(t,"ResendOTP",(function(){return d})),n.d(t,"default",(function(){return y}))}]))},11740:()=>{}}]);