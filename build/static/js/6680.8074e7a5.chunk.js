"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[6680],{46680:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(9950),r=s(1072),c=s(45532),l=s(28429),d=(s(46208),s(49911)),i=s(25793),o=s(72979),n=(s(7864),s(92881),s(51462),s(73635),s(31984),s(32909),s(3650),s(99813),s(37017),s(44414));const u=()=>{const{user:e,authTokens:t,logoutUser:s}=(0,a.useContext)(c.A);let u=(0,r.A)();(0,l.zy)();let[x,h]=(0,a.useState)(),[m,p]=(0,a.useState)(0),[g,S]=(0,a.useState)(0),[j,b]=(0,a.useState)(0),[A,y]=(0,a.useState)(0),[_,f]=(0,a.useState)(0),[U,F]=(0,a.useState)(0),[N,w]=(0,a.useState)(0),[C,v]=(0,a.useState)(),[E,K]=(0,a.useState)(),[k,M]=(0,a.useState)(),[D,B]=(0,a.useState)(),[I,G]=(0,a.useState)(),[O,R]=(0,a.useState)(0),[W,Q]=(0,a.useState)(0),[q,J]=(0,a.useState)(0),[V,$]=(0,a.useState)(0),[z,P]=(0,a.useState)(0),[T,Y]=(0,a.useState)(0),[Z,H]=(0,a.useState)(0),[X,L]=(0,a.useState)(0),[ee,te]=(0,a.useState)(0),[se,ae]=(0,a.useState)(0),[re,ce]=(0,a.useState)(0),[le,de]=(0,a.useState)(0),[ie,oe]=(0,a.useState)(0),[ne,ue]=(0,a.useState)(0);const[xe,he]=(0,a.useState)(null);let[me,pe]=(0,a.useState)(0);const[ge,Se]=(0,a.useState)(null===t||void 0===t?void 0:t.user.organization);return(0,a.useEffect)((()=>{(async()=>{try{var e,s;const a=await u.get("api/users/"+t.user.id+"/");Se(null===a||void 0===a||null===(e=a.data)||void 0===e||null===(s=e.result)||void 0===s?void 0:s.organization);const r=await u.get("machine/get_admin_customer_dashboard/"),c=await u.get("machine/get_customer_user_machine_mapping_percentage/"),l=await u.get("machine/get_customer_users_created_in_month/"),d=await u.get("machine/get_customer_user_percentage_of_machines_with_qr/"),i=await u.get("machine/get_customer_role_dashboard_qr_coin/");if(console.log(r),1===r.data.success&&1===l.data.success&&1===i.data.success){for(let t=0;t<r.data.result.length;t++)for(let e=0;e<l.data.result.length;e++){r.data.result[t],r.data.result[e]}h(r.data.result.total_users),p(r.data.result.active_users),S(r.data.result.inactive_users),F(r.data.result.total_machines),w(r.data.result.active_machines),v(r.data.result.inactive_machines),K(c.data.result.users_percentage),M(c.data.result.customers_percentage),B(d.data.result.percentage_with_qr),G(d.data.result.percentage_with_static_coin),oe(i.data.result.qr_percentage),ue(i.data.result.coin_percentage);const e=l.data.user_month_counts;R(e.jan),Q(e.feb),J(e.mar),$(e.apr),P(e.may),Y(e.jun)}else 0===r.data.success&&alert(r.data.result.message)}catch(a){console.error("Error fetching data:",a)}})()}),[t]),console.log(I,"dfghj"),console.log(O,"dfghj"),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(d.E$,{className:"mb-4",children:(0,n.jsxs)(d.W6,{children:[(0,n.jsx)(d.sK,{children:(0,n.jsx)(d.UF,{sm:12,children:(0,n.jsxs)("h4",{id:"traffic",className:"card-title mb-3 mt-3 text-center",children:[ge," Dashboard"]})})}),(0,n.jsxs)(d.sK,{md:12,className:"px-5  mb-2",children:[(0,n.jsx)(d.UF,{md:6,className:"mb-4",children:(0,n.jsxs)(d.E$,{style:{boxShadow:"1px 1px 1px 1px #ccc"},className:"px-4 pt-4 ",children:[(0,n.jsx)("h5",{className:"text-center",children:"User Details"}),(0,n.jsxs)("div",{className:"chart-container pt-3 pb-3 text-start px-3",style:{maxWidth:"250px",width:"100%",color:"#2A409A"},children:[" ",(0,n.jsxs)(d.sK,{className:"fs-6 ",children:[(0,n.jsx)(d.UF,{sm:7,children:"Total User  "}),(0,n.jsx)(d.UF,{sm:1,children:":"}),(0,n.jsx)(d.UF,{sm:3,children:x?x.toString().padStart(2,"0"):"0".toString().padStart(2,"0")})]}),(0,n.jsxs)(d.sK,{className:"fs-6 ",style:{},children:[(0,n.jsx)(d.UF,{sm:7,children:"Active User  "}),(0,n.jsx)(d.UF,{sm:1,children:":"}),(0,n.jsx)(d.UF,{sm:3,children:m?m.toString().padStart(2,"0"):"0".toString().padStart(2,"0")})]}),(0,n.jsxs)(d.sK,{className:"fs-6  pb-4",style:{},children:[(0,n.jsx)(d.UF,{sm:7,children:"Inactive User  "}),(0,n.jsx)(d.UF,{sm:1,children:":"}),(0,n.jsx)(d.UF,{sm:3,children:g?g.toString().padStart(2,"0"):"0".toString().padStart(2,"0")})]})]})]})}),(0,n.jsx)(d.UF,{md:6,className:"mb-4",children:(0,n.jsxs)(d.E$,{style:{boxShadow:"1px 1px 1px 1px #ccc"},className:"px-4 pt-4 ",children:[(0,n.jsx)("h5",{className:"text-center ",children:"Machine Details "}),(0,n.jsxs)("div",{className:"chart-container pt-3 pb-3 text-start px-1",style:{maxWidth:"250px",width:"100%",color:"#2A409A"},children:[" ",(0,n.jsxs)(d.sK,{className:"fs-6 ",children:[(0,n.jsx)(d.UF,{sm:7,children:"Total Machine  "}),(0,n.jsx)(d.UF,{sm:1,children:":"}),(0,n.jsx)(d.UF,{sm:3,children:U?U.toString().padStart(2,"0"):"0".toString().padStart(2,"0")})]}),(0,n.jsxs)(d.sK,{className:"fs-6 ",style:{},children:[(0,n.jsx)(d.UF,{sm:7,children:"Active Machine "}),(0,n.jsx)(d.UF,{sm:1,children:":"}),(0,n.jsx)(d.UF,{sm:3,children:N?N.toString().padStart(2,"0"):"0".toString().padStart(2,"0")})]}),(0,n.jsxs)(d.sK,{className:"fs-6  pb-4",style:{},children:[(0,n.jsx)(d.UF,{sm:7,children:"Inactive Machine"}),(0,n.jsx)(d.UF,{sm:1,children:":"}),(0,n.jsx)(d.UF,{sm:3,children:C?C.toString().padStart(2,"0"):"0".toString().padStart(2,"0")})]})]})]})})]}),(0,n.jsxs)(d.sK,{md:12,className:"px-5  mb-2",children:[(0,n.jsx)(d.UF,{md:6,className:"mb-4",children:(0,n.jsxs)(d.E$,{style:{boxShadow:"1px 1px 1px 1px #ccc",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,n.jsx)("h5",{className:"text-center",children:"Machine Map to Qr Code "}),(0,n.jsxs)("div",{className:"chart-container  mx-4",style:{maxWidth:"250px",width:"100%"},children:[" ",(0,n.jsx)(i.Kf,{type:"doughnut",data:{labels:["QR Code","Coin"],datasets:[{backgroundColor:["#429126","#5983de"],data:[D,I]}]},options:{plugins:{legend:{labels:{color:(0,o.getStyle)("--cui-body-color")}}}}})]})]})}),(0,n.jsx)(d.UF,{md:6,className:"mb-4",children:(0,n.jsxs)(d.E$,{style:{boxShadow:"1px 1px 1px 1px #ccc",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,n.jsx)("h5",{className:"text-center",children:"Machine Mapping "}),(0,n.jsxs)("div",{className:"chart-container",style:{maxWidth:"250px",width:"100%"},children:[" ",(0,n.jsx)(i.Kf,{type:"doughnut",data:{labels:["User","Customer"],datasets:[{backgroundColor:["#429126","#5983de"],data:[E,k]}]},options:{plugins:{legend:{labels:{color:(0,o.getStyle)("--cui-body-color")}}}}})]})]})})]}),(0,n.jsxs)(d.sK,{md:12,className:"px-5  mb-5",children:[(0,n.jsx)(d.UF,{md:6,className:"mb-4",children:(0,n.jsxs)(d.E$,{style:{boxShadow:"1px 1px 1px 1px #ccc"},children:[(0,n.jsx)("h5",{className:"text-center",children:" Machine Payment Mode "}),(0,n.jsx)(i.Kf,{type:"bar",data:{labels:[""],datasets:[{label:"Coin",backgroundColor:"#06c42c",data:[ne]},{label:"QR Code",backgroundColor:"#fca503",data:[ie]}]},options:{plugins:{legend:{labels:{color:(0,o.getStyle)("--cui-body-color")}}},indexAxis:"y",scales:{x:{grid:{color:(0,o.getStyle)("--cui-border-color-translucent")},ticks:{color:(0,o.getStyle)("--cui-body-color")}},y:{grid:{color:(0,o.getStyle)("--cui-border-color-translucent")},ticks:{color:(0,o.getStyle)("--cui-body-color")}}}}})]})}),(0,n.jsx)(d.UF,{md:6,className:"mb-4",children:(0,n.jsxs)(d.E$,{style:{boxShadow:"1px 1px 1px 1px #ccc ",justifyContent:"center",height:"100%"},children:[(0,n.jsx)("h5",{className:"text-center",children:" Monthwise Added Customer & User"}),(0,n.jsx)(i.Kf,{type:"line",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Added User",backgroundColor:"rgba(151, 187, 205, 0.2)",borderColor:"rgba(151, 187, 205, 1)",pointBackgroundColor:"rgba(151, 187, 205, 1)",pointBorderColor:"#fff",data:[O,W,q,V,z,T]}]},options:{plugins:{legend:{labels:{color:(0,o.getStyle)("--cui-body-color")}}},scales:{x:{grid:{color:(0,o.getStyle)("--cui-border-color-translucent")},ticks:{color:(0,o.getStyle)("--cui-body-color")}},y:{grid:{color:(0,o.getStyle)("--cui-border-color-translucent")},ticks:{color:(0,o.getStyle)("--cui-body-color")}}}}})]})})]})]})})})}},46208:()=>{},99813:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAlCAYAAAAjt+tHAAAAAXNSR0IArs4c6QAAANZJREFUWEftllEOxCAIROH+h3ajWZuurTJjW7Eb/SbOYyCAikgQ4oXQDldV4jeRGA0BWMKlKgoCAbDiGQaBMAF6xVGIuQGuZo+40HTAFeAu8ehCqxmrDiwAdwdi7e6C6OqBvwGwxvHckzBPst5esLJPM+IV65h1Asl82xOoA+XBUZaFEd3/BZeAurOIYAoAbUbGDRMAFa0lbcEM2YatlXwKcDVrxo0DwFPitfPsB+Bp8TOIDWCUeAmRAEaL75vSDSBDqEv63zrEGeEKkFzwdGABLAemcOADJ1iQ7GVSPDUAAAAASUVORK5CYII="},92881:(e,t,s)=>{e.exports=s.p+"static/media/1.34eedf58c0876517e858.jpg"},73635:(e,t,s)=>{e.exports=s.p+"static/media/3.07e357f51e1b86d9e741.jpg"},31984:(e,t,s)=>{e.exports=s.p+"static/media/4.3ddf28ab435770c6d69f.jpg"},32909:(e,t,s)=>{e.exports=s.p+"static/media/5.3e55ee5f667d94054da3.jpg"},3650:(e,t,s)=>{e.exports=s.p+"static/media/6.edefb235566ed72a7429.jpg"}}]);