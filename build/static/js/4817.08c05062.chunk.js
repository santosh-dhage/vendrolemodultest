"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4817],{94817:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var l=a(9950),n=a(1072),s=a(37017),o=a(45532),r=a(28429),c=(a(46411),a(44885)),i=(a(59019),a(60764),a(7864),a(4434),a(55271),a(74297)),D=a(95652),d=a(42074),w=a(79988),u=a(44414);(0,i.A)();const _=function(){let{id:e,location:t}=(0,r.g)(),a=(0,n.A)();(0,D.A)();const{selectedColor:i}=(0,c.useColor)(),{user:_,authTokens:g}=(0,l.useContext)(o.A);let[f,m]=(0,l.useState)([]),[h,p]=(0,l.useState)(new Date((new Date).setDate((new Date).getDate()-1))),[b,y]=(0,l.useState)(new Date((new Date).setDate((new Date).getDate())));(0,l.useEffect)((()=>{k()}),[]);let k=async()=>{let e=await a.get("get_stock_for_all_machine_refills/");if(console.log(e),1===e.data.success){let t=[];for(let a=0;a<e.data.result.length;a++){let l=e.data.result[a];console.log(l);let n={machine_id:l.machine_id,befor_refill_stock:l.stock_after_refill,after_refill_stock:l.stock_before_refill,refill_count:l.stock_capacity_equal_count,refill_quantity:l.refill_quantity,refill_date:null===l||void 0===l?void 0:l.refill_date,location:l.location};t.sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at))),t.push(n)}m([]),m(t)}else if(0===e.data.success)for(let t=0;t<Object.values(e.data.result).length;t++){let a=Object.values(e.data.result)[t];alert(a)}};const x=e=>{if(null==e)return"          ";const t=new Date(e),a=String(t.getDate()).padStart(2,"0"),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],n=t.getFullYear(),s=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return"".concat(a," - ").concat(l," - ").concat(n," ").concat(s,":").concat(o)};function j(e){if(null!=e){var t=new Date(e),a=""+(t.getMonth()+1),l=""+t.getDate(),n=t.getFullYear();return a.length<2&&(a="0"+a),l.length<2&&(l="0"+l),[n,a,l].join("-")}}return j(new Date),j(new Date),j(new Date((new Date).setDate((new Date).getDate()-1))),j(new Date((new Date).setDate((new Date).getDate()-1))),j(new Date((new Date).setDate((new Date).getDate()-6))),j(new Date(new Date)),j(new Date((new Date).setDate((new Date).getDate()-29))),j(new Date(new Date)),j(new Date((new Date).setDate((new Date).getDate()-90))),j(new Date(new Date)),j(new Date((new Date).setDate((new Date).getDate()-365))),j(new Date(new Date)),new Date,new Date,new Date((new Date).setDate((new Date).getDate()-1)),new Date((new Date).setDate((new Date).getDate()-1)),new Date((new Date).setDate((new Date).getDate()-6)),new Date(new Date),new Date((new Date).setDate((new Date).getDate()-29)),new Date(new Date),new Date((new Date).setDate(1)),new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),new Date((new Date).getFullYear(),(new Date).getMonth()-1,1),new Date((new Date).getFullYear(),(new Date).getMonth(),0),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,u.jsx)("div",{children:(0,u.jsx)("h3",{className:"mb-0",style:{color:"#2C384A"},children:"Machine Refill Report"})})," ",(0,u.jsx)("div",{children:" "})]}),(0,u.jsxs)("div",{className:"input-group mt-2 mb-2",children:["\xa0 \xa0 \xa0"," ",(0,u.jsx)("div",{children:" "})]}),(0,u.jsx)("div",{children:(0,u.jsx)(s.sK,{xm:{cols:12},children:(0,u.jsx)(s.UF,{xs:12,children:(0,u.jsx)(s.Pd,{activePage:1,clickableRows:!0,columns:[{key:"sr_no",label:"Sr. No.",sorter:!1,_props:{color:"secondary",className:"fw-semibold"}},{label:"Machine ID",key:"machine_id",sorter:!1,_props:{color:"secondary",className:"fw-semibold"}},{label:"Before Refill Stock",key:"after_refill_stock",sorter:!1,_props:{color:"secondary",className:"fw-semibold"}},{label:"Refill Quantity",key:"refill_quantity",sorter:!1,_props:{color:"secondary",className:"fw-semibold"}},{label:"After Refill Stock",key:"befor_refill_stock",sorter:!1,_props:{color:"secondary",className:"fw-semibold",align:"middle"}},{label:"Refill Count",key:"refill_count",sorter:!1,_props:{color:"secondary",className:"fw-semibold"}},{label:"Location",key:"location",sorter:!1,_props:{color:"secondary",className:"fw-semibold"}},{key:"Action",label:"Action",filter:!1,sorter:!1,_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"60px"}}],columnSorter:!0,items:f,itemsPerPageSelect:!0,itemsPerPage:10,pagination:!0,scopedColumns:{Action:e=>(0,u.jsx)("td",{children:(0,u.jsx)(d.N_,{to:"/superadmin/machinwiserefillreport/"+"".concat(e.machine_id)+"/"+"".concat(e.location),children:(0,u.jsx)(s.t7,{src:w,width:17,height:15,title:"View Details"})})}),sr_no:(e,t)=>(0,u.jsx)("td",{children:t+1}),created_at:e=>(0,u.jsx)("td",{children:x(e.created_at)})},itemsPerPageOptions:[10,20,50,100],tableProps:{color:"success-color-secondary",hover:!0,border:"1.5px solid #074",responsive:!0},tableHeadProps:{color:"light",align:"middle",className:"align-middle"},tableBodyProps:{align:"middle",className:"align-middle"},itemsPerPageLabel:"Rows per page:"})})})})]})})}}}]);